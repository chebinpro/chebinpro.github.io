<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">




  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2">





















<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.0.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico?v=7.0.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.0.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.0.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '7.0.1',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="思考并回答以下问题：">
<meta name="keywords" content="日本蜡烛图技术新解">
<meta property="og:type" content="article">
<meta property="og:title" content="第3章 蜡烛图组合形态">
<meta property="og:url" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/index.html">
<meta property="og:site_name" content="车斌的技术博客">
<meta property="og:description" content="思考并回答以下问题：">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/1.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/2.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/3.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/4.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/5.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/6.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/7.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/8.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/9.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/10.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/11.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/12.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/13.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/14.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/15.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/16.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/17.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/18.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/19.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/1.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/21.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/22.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/23.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/24.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/25.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/26.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/27a.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/27b.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/28.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/29.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/30.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/31.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/32.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/33.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/34.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/35.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/36.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/37.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/38.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/39.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/40.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/41.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/42.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/43.png">
<meta property="og:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/44.png">
<meta property="og:updated_time" content="2021-02-17T14:33:29.145Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="第3章 蜡烛图组合形态">
<meta name="twitter:description" content="思考并回答以下问题：">
<meta name="twitter:image" content="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/1.png">






  <link rel="canonical" href="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>第3章 蜡烛图组合形态 | 车斌的技术博客</title><meta name="robots" content="noindex">
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">车斌的技术博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">专注</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>关于</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>搜索</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/01/25/第3章-蜡烛图组合形态/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="CheBin">
      <meta itemprop="description" content="放弃会成为一种习惯">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="车斌的技术博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">第3章 蜡烛图组合形态

              
            
          </h1>
        

        <div class="post-meta">

          

          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2021-01-25 14:56:05" itemprop="dateCreated datePublished" datetime="2021-01-25T14:56:05+08:00">2021-01-25</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2021-02-17 22:33:29" itemprop="dateModified" datetime="2021-02-17T22:33:29+08:00">2021-02-17</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/期货/" itemprop="url" rel="index"><span itemprop="name">期货</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">本文字数：</span>
                
                <span title="本文字数">23k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">21 分钟</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>思考并回答以下问题：</p>
<a id="more"></a>
<p>市场参与者的心理、筹码的供需状况，以及买卖双方的相对强弱，都反映在某一单根蜡烛线或数根蜡烛线的组合中。</p>
<h1 id="单根蜡烛线所构成的反转形态"><a href="#单根蜡烛线所构成的反转形态" class="headerlink" title="单根蜡烛线所构成的反转形态"></a><span style="color:#339AFF;">单根蜡烛线所构成的反转形态</span></h1><p>在第2章中我强调，上下影线的长度往往可以传达多空各自的弹性。在反弹中出现的一根上影线很长的蜡烛，显示空头可能有能力重新掌控市场。同理，在一波下跌中，一根长长的下影线能很直观地反映：某个交易时段中尽管创出了新低，但多方有能力让市场上行。</p>
<p>在本节讨论的单一蜡烛包括锤子线、吊颈线与流星线，它们都有很长的上影线或下影线，但是实体都很小，而且都接近蜡烛的高点或低点。如果使用蜡烛图帮助决策，这些蜡烛尤其重要。</p>
<h2 id="锤子线"><a href="#锤子线" class="headerlink" title="锤子线"></a><span style="color:#00ACC1;">锤子线</span></h2><p>如图3-1所示，锤子线的下影线很长，收盘价位于或接近高点。锤子线的名称有两个含义：一是市场正在“锤磨底部”；一是底部坚实，即使以锤子敲打都不能砸破。</p>
<blockquote>
<p>图3-1 锤子线</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/1.png">
<p>要将一根蜡烛线认定为锤子线，必须确认它出现在大幅下跌之后还是严重的超卖市道中。锤子线是一个反转信号，也就是说此前已经出现了下行趋势，否则何谓翻转？如果发生在两三天的下跌走势之后，类似锤子线的蜡烛线通常没有特别的指示作用。由于锤子线必须出现在大幅下跌之后，因此由锤子线开始的反弹很可能遭受卖压，从而锤子线引发的第一波反弹常常以失败告终，行情有可能下探以重新考验锤子线的支撑能力。</p>
<p>因此，如何根据锤子线进行交易，取决于交易者的激进程度与风险偏好。某些交易者担心行情未必会回落重新考验锤子线的支撑，所以可能会在锤子线之后立即买进；另一些交易者则会等待市场回落测试锤子线的支撑，并在这个回落过程中买入。如果锤子线的支撑经受住了考验，那就意味着底部更为坚实，上行的概率更大。我有时建议客户采用如下的交易方式：当锤子线刚出现时，先少量做多试水，如果价格拉回，并成功证实锤子线的支撑，再加码买进，完成多头头寸的建立。不管如何使用锤子线进行决策，止损点（以收盘价为准）可以设定在锤子线低点的图3-2中有一个典型的锤子线，下影线极长，显示多方有很强的能力推升股价脱离底部。锤子线所引发的反弹在此后几个交易日内出现停滞，但此后的回抽确认了支撑。这种行情帮助扩大了底部，有利于准备更凌厉的涨势。</p>
<p>西方分析技术中有一种线形被称为“弹簧线”，很适合与蜡烛图结合起来使用。图3-3中，在价格突破支撑位后，空方无力将之压制在支撑位下方，于是出现了所谓的弹簧线。市场的这种情况证明，空头本来有机会控制盘面却最终失败，因此可以解读为转牛态势。上插线（upthrust）与弹簧线正好相反：价格向上突破阻力位，却不能维持在阻力位上方。</p>
<blockquote>
<p>图3-2 锤子线构成支撑：Amgen—日线</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/2.png">
<p>古代东方的一部兵书中讨论过一种佯动“胜略”。当敌情不明时，可以大张旗鼓地展开一波佯攻，以此发现敌军的意图。把这种观念套用在交易中，我们就会明白弹簧线的重要性。</p>
<blockquote>
<p>图3-3 弹簧线</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/3.png">
<p>任何市场中的大鳄，都会试探支撑位与阻力位的力度，他们想知道一旦支撑位或阻力位被穿破后，市场会产生什么反应。这些交易者的试盘动作与前述的佯动战术一样，以大单打破支撑位（或阻力位），随后观察战场内的布置。价格接近支撑位时，其卖单也许足以把价格拉到支撑位之下，然后观察市场中隐藏的力量。如果支撑位跌破之后，行情不能维持在低位，而是立即回升，形成弹簧线，他们就了解了多方所具备的韧性，于是有可能平仓空单。</p>
<p>图3-4显示了东西方技术分析结合的价值：锤子线与弹簧线相配合发出强烈信号。图中，1993年的低价由锤子线砸出，这条锤子线也是一根弹簧线，因为锤子线的下影线的低点稍稍穿破了支撑位，就又“弹回”到本已被打破的支撑位的上方。这一图形中还有一点值得注意：1992年年中创出的360美元新高是由一个长白实体之后的十字星实现的。</p>
<blockquote>
<p>图3-4 锤子线与弹簧线：黄金—周线</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/4.png">
<h2 id="吊颈线"><a href="#吊颈线" class="headerlink" title="吊颈线"></a><span style="color:#00ACC1;">吊颈线</span></h2><p>如图3-5所示，吊颈线的下影线很长，上影线不存在（或很短），实体（或黑或白）很小而位于价格区间的上端。吊颈线的形态与锤子线完全相同，但是，正如日本教科书中所说的：“如果它出现在下方，买入；如果它出现在上方，卖出”。</p>
<blockquote>
<p>图3-5 吊颈线</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/5.png">
<p>这句话说明，同一形状的这根蜡烛线可能代表转熊，也可能代表转牛，取决于它在趋势中的位置。如果是在下降趋势中的低价位处，就代表转牛；如果出现在上升趋势中的高价位区域，则是空头的吊颈线。</p>
<p>因此，吊颈线是上行走势中的头部反转信号，而锤子线是下行走势中的底部反转信号；同一形状的蜡烛线意味着市场看空或看多—取决于先前的趋势。大概是出于类似的原因，日本人对于米饭也有两种不同的叫法，一是raisu，一是gohan。raisu的发音与英文的rice相似，在日本是指西方式烧制的米饭，gohan则指日式米饭。也就是说，日本人以两种名词来称呼相同的东西—米饭，这种东西的外围因素决定了它究竟是raisu还是gohan。锤子线与吊颈线也是如此，这同一形态的蜡烛线究竟是看空的吊颈线还是看多的锤子线，取决于先前的趋势。</p>
<p>吊颈线的长下影线代表买盘的意愿，似乎应被视为看多信号。但是，吊颈线又显示，一旦价格发生下跌，多方的力量就会变得相当脆弱。另外，吊颈线的小实体也代表先前的上行趋势可能正处于蜕变的过程中。由于吊颈线所在交易时段的行情是上涨的（价格一度大幅下滑但此后收复失地，收盘价达到高位，留下很长的下影线），所以要确认这是不是真实的吊颈线，还必须等待转熊确认。常用的确认方法是观察下一个交易时段的收盘价是否低于吊颈线的实体，如图3-5所示。</p>
<p>吊颈线之所以需要确认，是因为其下影线显示市场中上涨力量尚存。可是，一旦价格跌到吊颈线实体的下方，就意味着在吊颈线的开盘价与收盘价附近买进的人目前都在赔钱。在这种情形下，这些多头头寸可能会变现认赔出场，这样就可能会使价格进一步走弱。</p>
<p>从我在位于华盛顿的世界银行举办了蜡烛图使用研讨会后，世界银行的有些交易员就经常拿世界各个市场的各种蜡烛图组合形态来同我交流，图3-6是其中之一。某位交易员在4月10日当天吊颈线形成后征询我的意见，我回答说，如果隔天出现空头确认信号，这个吊颈线应该代表短期见顶，后来的情况证实了我的判断。</p>
<blockquote>
<p>图3-6 吊颈线的确认：德国债券—日线</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/6.png">
<p>图3-7说明，等待市场对吊颈线的确认是多么重要。图中出现了一根吊颈线，但紧接着就是一根长白实体，价格被推高到吊颈线上方。在这种情况下，吊颈线交易时段买进的人都有获利，也就是说他们没有理由卖出自己的多头仓位。其结果是，高于吊颈线的收盘价化解了吊颈线所蕴涵的转熊信号。行情超越吊颈线后的市场情况果然证实了这一点。该图中另外值得注意的是1992年4月的走势，当时出现一根锤子线，它同时也是转牛弹簧线，因为这把“锤子”虽一度完全击穿支撑位，但价格此后被拉回高处。</p>
<blockquote>
<p>图3-7 等待市场对吊颈线的确认：债券—周线</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/7.png">
<p>我曾经在《华尔街日报》撰文介绍我的蜡烛图研究，其中引用了图3-8。文中我讨论了40美元处的吊颈线如何帮助我确认了头部的形成。我解释说，在1990年的中东危机以前，原油期货的最高价是在32美元左右（原油期货交易开始于1983年）。价格一旦突破这个水平，我就把目标设定在40美元左右，这是现货市场在1979年构成的阻力位。从图中可以看出，40美元附近出现了一个转熊信号，其形态为一根吊颈线。行情在此回头，下行后考验了一下支撑位，然后再次上行，但这只是一次垂死挣扎，尽管行情一时勉强突破40美元，但此后出现了崩溃性下跌。</p>
<blockquote>
<p>图3-8 吊颈线确认阻力位：1990年原油—日线</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/8.png">
<p>西方技术分析中有一个基本的观念：阻力位一旦被穿破，即转变为支撑位；支撑位一旦跌破，即转变为阻力位，我称此为极性转换原则。这个观念也体现在图3-9中。我发现“极性转换原则”是一个有效的交易工具，结合蜡烛图一起使用尤其有效。在实践中你也会发现，某个阻力位或支撑位在突破以前所受到的考验次数越多，其极性转换越彻底。</p>
<p>在图3-10中我们可以看到，在11月中旬到下旬之间，市场在20美元上方不远处构筑了一个明显的支撑位。如果该重要支撑位被突破，依据极性转换原则，它就必然会成为阻力位。事情的发展果然如此：12月中旬出现了吊颈线，确认了这个阻力位；12月28日的长黑实体—也出现在20美元附近—显示空方已经掌控行情。</p>
<blockquote>
<p>图3-9 极性转换原则</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/9.png">
<blockquote>
<p>图3-10　吊颈线与极性转换原则：1993年3月原油</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/10.png">
<h2 id="流星线"><a href="#流星线" class="headerlink" title="流星线"></a><span style="color:#00ACC1;">流星线</span></h2><p>流星线的上影线很长，实体很小且接近蜡烛线的低点（见图3-11）。如果说锤子线的长下影线是个看多信号，那么流星线的长上影线就是个看空信号。这根长长的上影线，代表空方有能力让价格从高位急挫而下。</p>
<blockquote>
<p>图3-11 流星线</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/11.png">
<p>图3-12中8月中旬出现一根流星线，其上影线的长度可以显示空方的势头很猛，第二天又出现一根高浪线，同样反映市场处于不确定的状态。而且，这两根蜡烛线出现在100日元的重要心理关口，该价位更凸显了这两个信号的重要性。</p>
<blockquote>
<p>图3-12 流星线与高浪线组合：1993年9月日元</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/12.png">
<p>图3-13显示了8月底的支撑位（S）是如何极性转换为9月和10月的阻力位的。在9月底的反攻中，行情以一根流星线的形式确认了这个阻力位。流星线上长长的上影线，反映了1.66附近抛压沉重。10月上旬市场再次上攻1.66无果，留下一个长黑实体。</p>
<p>在锤子线一节中，讨论了弹簧线（价格从被穿破的支撑位下方弹回上方），与弹簧线正好相反的是上插线。如图3-14所示，价格上插，突破阻力位上方，然后又缩回到阻力位下方，就形成了上插线，这是一种空头态势。在某些情况下，流星线的上影线也会形成上插。</p>
<blockquote>
<p>图3-13 流星线与极性转换原则：德国马克现货</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/13.png">
<p>在图3-15中，流星线的上影线穿破了1月7日与8日的阻力位，但多方没有能力守住这块新阵地，这根流星线同时成为一个看空的上插线。</p>
<blockquote>
<p>图3-14 上插线</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/14.png">
<p>为了帮助读者明白锤子线、吊颈线与流星线之间的差异，我对图3-16做了详细说明，并对这三种蜡烛形态分别举例。请注意，这三种蜡烛形态都必须出现在明确的趋势后才有信号价值。</p>
<p>①流星线，必须发生在明确的上升走势之后。上影线很长，代表市场拒绝接受新高价格。</p>
<p>②锤子线，必须出现在下降走势之后，下影线很长。</p>
<p>③尽管形状完全符合锤子线与吊颈线本身的形态条件（下影线很长，实体很小且靠近蜡烛上端），但它不是锤子线也不是吊颈线，因为它并不处于上升或下降走势之后，而是处于横盘之后，且在横盘价格的中位。因此，它不是锤子线（尽管其长长的下影线可以被视为一个积极信号）。</p>
<blockquote>
<p>图3-15 流星/上插线：1992年3月债券—日内分时线</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/15.png">
<blockquote>
<p>图3-16 锤子线、吊颈线和流星线：迪士尼—日线</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/16.png">
<p>④和⑦吊颈线，在吊颈线之前是一波上行，下一交易时段的蜡烛收盘于吊颈线实体下方，确认吊颈线的空头信号。⑦有小上影线，但其长度很短，仍然可视为吊颈线（锤子线同样允许短上影线）。注意，吊颈线的实体颜色可以是白色也可以是黑色。</p>
<p>⑤形状完全符合流星线的标准（上影线很长，实体很小且接近蜡烛低端），但它不是位于上升走势中，所以不能如传统的流星线那样视为空头信号。</p>
<p>⑥的信号价值相对有限，因为此前的下行幅度有限；但其下影线成功确认了1月下旬与2月上旬的低点所构成的43美元支撑位。</p>
<p>总之，是否要在锤子线、吊颈线与流星线出现后做出相应的买卖决策，首先必须观察先前的趋势。记住，它们都是反转信号，有了先前明确的趋势，才有反转可言。</p>
<h1 id="双蜡烛线所构成的形态"><a href="#双蜡烛线所构成的形态" class="headerlink" title="双蜡烛线所构成的形态"></a><span style="color:#339AFF;">双蜡烛线所构成的形态</span></h1><p>在前一节中，我们只讨论某些单根蜡烛线所包含的信号价值，在本章的余下部分，我们将探讨由两根或两根以上的蜡烛线所构成的一些比较重要的相对常见形态。</p>
<h2 id="乌云盖顶"><a href="#乌云盖顶" class="headerlink" title="乌云盖顶"></a><span style="color:#00ACC1;">乌云盖顶</span></h2><p>乌云盖顶形态，按日本人的说法，表示上涨概率很小，如图3-17所示。乌云盖顶的第一根蜡烛是强劲的长白实体，而到第二个交易时段，虽因买盘力量尚存而惯性高开，但价格下行，收盘于第一个白色实体的中点以下。乌云盖顶形态表示，长白实体所代表的上升动能被第二根黑色蜡烛线逐渐消耗。观察图3-17中的合成蜡烛线，可以看出它留下很长的上影线；换言之，这个乌云盖顶形态形象地显示此时市场的卖压正在超越买盘的力量。</p>
<blockquote>
<p>图3-17 乌云盖顶</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/17.png">
<p>在一个理想的乌云盖顶形态中，第二根黑线的收盘价应该切入第一个白色实体的中点以下。如果切入未到达中点以下，则有些日本交易者会认为属于未完成形态，如此，则应该观察下一个交易时段，如果收盘更弱，才视为走弱确认。一般来说，乌云盖顶形态中第二根黑线收盘价切入第一个白色实体越深，形态的空头意味越强烈。</p>
<p>如果第二根黑线的收盘价未到达第一个白线实体的中点以下，那么将它们合成一根蜡烛线后，这根合成蜡烛的上影线相对较短，因此，如图3-18所示的乌云盖顶形态的空头意义也逊于标准的乌云盖顶形态。在这种情况下，我们就要等待下一个交易时段能否走弱再来确认这个乌云盖顶形态是否成立。</p>
<p>在股票与期货市场中，我对于乌云盖顶形态的看法有所不同。在理想的乌云盖顶形态中，第二根蜡烛线的开盘价应该高于第一根蜡烛线的高点。但是，因为期货市场的价格波动通常高于股票市场，所以股票市场上的乌云盖顶形态在判定时更为灵活，第二根蜡烛线的开盘价只需要高于第一根蜡烛线的收盘价而不是最高价，即可判定为乌云盖顶形态，如图3-19所示。</p>
<blockquote>
<p>图3-18 乌云盖顶变体1</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/18.png">
<blockquote>
<p>图3-19 乌云盖顶变体2</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/19.png">
<p>但是，如果某股票的第二根蜡烛线的开盘价高于第一根蜡烛线的最高价（而不是收盘价），这种形态的反转信号更为强烈，因为价格由新高下滑，相比从非新高下滑，其空头意味更为明确。</p>
<p>乌云盖顶形态经常成为后来的阻力位。如图3-20所示，乌云盖顶形态在1月下旬形成于75.50美元附近。行情由此下跌，直到2月一根在69美元附近的锤子线（也是弹簧线）出现。由锤子线所带动的上行在3月遇阻回落，阻力位即当初乌云盖顶的位置。但是，在任何技术分析中，行情总是会在某个时间点出现出人意料的变化，此时你就必须调整判断。以乌云盖顶来说，如果此后行情的收盘价穿越该形态的高点，行情就可能继续上行。在本例中，行情在3月下旬不仅收盘价穿越乌云盖顶的高点，而且是以向上跳空的方式实现这次穿越，且缺口未补。这个跳空缺口有一点值得注意：紧接着的一个交易时段形成了流星线。流星线虽然是一种空头形态，但没有获得确认，因为收盘价没有填补缺口（缺口问题将在本章稍后一节中讨论）。所以，如果见乌云盖顶形态就卖出，止损点应该设定在乌云盖顶形态的高点之上；如果考虑买进，应该等待收盘价穿越乌云盖顶形态的高点后进场。</p>
<blockquote>
<p>图3-20 乌云盖顶构成阻力：西南贝尔—日线</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/1.png">
<p>图3-21中所示的两个乌云盖顶都属于非典型形态。乌云盖顶①的第二根黑线没有切入第一根白线的中点以下。乌云盖顶②的第二根黑线开盘价仅仅略高于前一个收盘价，转熊意味减弱。但是，这两个非典型形态出现时间接近，相互呼应、强化。也就是说，它们共同反映一个市场情况：行情在45美元附近创出新高时，空头就有能力将价格打回前一天的收盘价下方。这绝非好兆头。此后在这个乌云盖顶下方出现的向下跳空缺口最终确认了下跌趋势的形成。</p>
<blockquote>
<p>图3-21 接近收盘价的乌云盖顶：柯达—日线</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/21.png">
<p>如图3-22所示，11月前半月的走势在59美分与60美分之间形成一个密集成交带。市场在很长一段时间内横盘后，所形成的密集区域经常成为阻力位或支撑位，如果价格脱离该区域，此后的走势就会在此位置感受到支撑或压力，因为横盘时间越长，在这个价格区间参与买卖的交易者就越多。以本例而言，价格跌破11月前半月密集区的底部之后，在横盘区做空的投资者就会获利；相反，在此区间做多的人就发生了亏损。所以，价格反弹到密集区时，很可能引发解套抛售。也就是说，原先的多方会在这里反手做空。就图3-22来说，密集区被穿破后，便成为阻力位。12月下旬的反弹也因此在此受阻，形成乌云盖顶形态（图中两根蜡烛线之间之所以出现空白是因为当时正逢假日）。</p>
<blockquote>
<p>图3-22　乌云盖顶形态确认阻力位</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/22.png">
<h2 id="刺穿形态"><a href="#刺穿形态" class="headerlink" title="刺穿形态"></a><span style="color:#00ACC1;">刺穿形态</span></h2><p>如图3-23所示，刺穿形态与乌云盖顶恰好相反。乌云盖顶出现在上升趋势后，体现为一个长黑实体深度切入此前的白色实体。刺穿形态则体现为一个白色实体切入此前的黑色实体之中，这个形态显示在低价区有强劲买盘。</p>
<p>一本日文书中曾对刺穿形态形成过程中的市场有如下生动而有趣的描述：</p>
<p>多方最后的力量被逼到了角落后跳出来进行悲壮的一搏。这种神风特攻队员的姿态总是非常可怕的，空方只得暂时退避一旁。在这个静悄悄的时刻，多方就有可能获得支援，而空方在大幅抛售之后，后续供应之路可能已经被截断。</p>
<p>换言之，市场的下行能量已经被消耗殆尽。</p>
<p>如果第二根白线的收盘价不能够深度切入第一个黑线实体的一半以上，这个形态有多种名称。就目前的讨论来说，我们无须执着于名称，只需了解一个基本观念，即第二根白线切入第一根黑线的程度越深，信号越积极；如果切入的深度不够，表示多头的反攻力度不够，卖盘可能还会涌出。如图3-24所示，第二根白线的收盘价未到达前一个黑线实体的中点，这两根蜡烛线的合成蜡烛线的下影线也相对较短；与此对照，可以看一下图3-23中的超长下影线，这说明多头实施了强劲的反攻。第二根蜡烛线的开盘位置越低，合成蜡烛线的下影线也就越长。也就是说，刺穿形态中第二根蜡烛线开盘越低，收盘就越能切入前蜡烛线的上部，这个形态就越理想。</p>
<blockquote>
<p>图3-23 刺穿形态</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/23.png">
<p>以我个人的经验，乌云盖顶的发生频率高于刺穿形态，其部分原因可能与华尔街的一句名言有关：“因贪婪而进场，因恐惧而出场。”贪婪与恐惧，两者虽然都是非常强烈的情绪，但恐惧更易造成行情的剧烈波动。在行情的底部区域，投资者或交易员通常会有机会等候进场的机会。他们耐心等待价格回落，或等待市场筑底，或者在消息出现后等待一下，以便观察市场的反应。而在顶部区域的恐惧则更有威慑力，投资者仿佛听到恐惧在叫嚷：“我要出去—立刻！马上！”</p>
<blockquote>
<p>图3-24 第二根白线在前一黑线中点下方</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/24.png">
<p>如图3-25所示，我们看见1991年年底开始的上行，停滞于一个长白实体之后的一个十字星。5月的一根超长上影线反映了十字星所构成的阻力位意义。行情由此回落，直至8月出现刺穿形态。这个刺穿形态的形成基础是这里的支撑力已经到达12月低点与5月高点之间的中点区域。任何行情回落50%后，我们都应该密切关注盘面变化，因为大多数技术分析派都会关注这个点位。本图中的刺穿形态形成了底部，这个底部又在10月受到一根高浪线的证实。由33美元附近的底部开始，行情上行，直至1993年年初出现一个长白实体，并紧接着出现十字星，价格的攀升到此止步回头。</p>
<p>在图3-26中，4月的刺穿形态确认了前一周的锤子线所发出的底部信号。五六月之交形成了又一个刺穿形态，这就为一波攻击构成了暂时的基础（底部），这波攻击的目标是5月在4.15美元一带形成的阻力位。在此区域连续出现两根吊颈线。请留意，第一根吊颈线并未立即得到确认（因为第二天的走势依然强劲），但在第二根吊颈线出现后的那个交易日—收盘价处于第二根吊颈线的实体的下方—这根吊颈线得到了确认。</p>
<blockquote>
<p>图3-25 刺穿形态与回落：迪士尼—周线</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/25.png">
<blockquote>
<p>图3-26 刺穿形态确认支撑：白银（1992年7月）</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/26.png">
<h2 id="吞噬形态"><a href="#吞噬形态" class="headerlink" title="吞噬形态"></a><span style="color:#00ACC1;">吞噬形态</span></h2><p>吞噬形态是个双蜡烛线形态。多头吞噬形态（见图3-27a）发生在下降走势中，体现为第二根白线的实体包裹第一根黑线的实体。空头吞噬形态（见图3-27b）发生在上升走势中，体现为第二根黑线的实体包裹第一根白线的实体。</p>
<blockquote>
<p>图3-27 多头与空头吞噬形态</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/27a.png">
<img src="/2021/01/25/第3章-蜡烛图组合形态/27b.png">
<p>吞噬形态直观地显示了多空力量的前后逆转。以多头吞噬为例，起先由空方掌控局面，然而通过这个吞噬形态的实现，多方夺取了控制权。空头吞噬则反映空方的力量是如何压倒多方的，按日本人的说法就是“多方的力量被瓦解了”。我们此前说过，在乌云盖顶形态中，空方成功地将价格切入此前的白色实体的内部，而在空头吞噬中，空方的力量更强大，它把收盘价打压到了此前白色实体的下方。两者的差异也可描述刺穿形态与多头吞噬之间的差异。在刺穿形态中，多方反击，将收盘价向上高度切入前面的黑色实体，而在多头吞噬中，多方气势如虹，收盘于前面黑色实体的上方。也就是说，通常说来吞噬形态作为转牛或转熊信号的强度分别超过了刺穿形态与乌云盖顶形态，但是，实际上，我们还必须由形态所发生的位置来做进一步的判断。例如，如果出现了一个多头吞噬，但它没有同时确认前面的某个位置为支撑位，另一个是发生在重要支撑位的刺穿形态，这个刺穿形态更有可能是有效的底部反转信号。因此，在判断蜡烛图形态时，应该同时考虑整体技术形态，这一点会在第4章中深入讨论。</p>
<p>吞噬形态的基本定义是：第二根蜡烛线的实体完全吞噬前一根相反颜色的实体。但是吞噬形态之间的信号强度并不相同。吞噬形态的信号价值高低取决于实体的相对长度、影线之间的关系以及其他因素。吞噬形态的最严格定义是：第一根蜡烛线实体很短，第二根蜡烛线的实体很长，而且第二根蜡烛线的实体完全包裹第一根蜡烛线，包括影线在内。第二严格定义则是：第二根蜡烛线吃掉第一根蜡烛线，两者都包括影线在内。也就是说，第二个交易时段的高点高于前一时段的高点，而低点则低于前一时段的低点。</p>
<p>与乌云盖顶形态一样，即使出现了吞噬形态，但如果随后的行情超越了这个吞噬形态，人们仍认为它会朝这个形态的相反方向发展。也就是说，如果收盘价超过空头吞噬形态的高点（即上影线的高点），盘面由看空转为看多。</p>
<p>本节的图形说明包括以下几方面。</p>
<ul>
<li>吞噬形态如何形成支撑或阻力；</li>
<li>吞噬形态如何结合西方的技术分析方法一起使用；</li>
<li>为何交易员在定义吞噬形态时，在股票市场应该比期货市场更灵活；</li>
<li>比较吞噬形态中两个蜡烛线实体长度的重要性；</li>
<li>十字星后的空头吞噬信号。</li>
</ul>
<p>图3-28中的第一个不祥之兆是8月下旬的高浪线。接着，在9月的最初两天形成一个更危险的空头吞噬。行情由此下滑，直至在8月中旬的跳空缺口的价位区找到了支撑（本章稍后会讨论缺口的阻力与支撑功能）。由前缺口支撑下展开的反弹，后来又受阻于先前的空头吞噬形态所构成的阻力位。</p>
<blockquote>
<p>图3-28 空头吞噬形态构成阻力：1993年12月的标准普尔</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/28.png">
<p>从图3-28中也可以看出，蜡烛图往往可以发出西方技术分析工具不能发现的反转信号。在西方技术分析概念中有一种信号称为“顶部外反转”，有时也称为“钥匙反转”，这是指当天的价格创新高，而收盘价低于前一天的收盘。本图中吞噬形态的第二个交易日没有创新高，所以不能构成“顶部外反转”，因此如果使用西方技术分析工具，这个形态没有发出反转信号，但是按蜡烛图技术分析，这属于空头吞噬形态，因为第二根黑色蜡烛线实体包裹了前面的白色实体。也就是说，使用西方技术分析工具，从这两个交易日不能看出反转，但在蜡烛图中，这个形态就发出了反转信号。</p>
<p>在图3-29中，12月的卖压起始于长白实体之后的十字星。一周后，一根上影线很长的蜡烛线可以确认44美元附近的卖压，这是由先前的十字星所构成的阻力。随后所产生的跌势终止于1993年1月的多头吞噬。价格由此反弹，但再度受阻于先前的阻力位44美元，形成上影线很长的蜡烛线。</p>
<blockquote>
<p>图3-29 空头吞噬形态构成支撑：可口可乐—日线</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/29.png">
<p>根据前述的价格走势来判断，我们知道上档44美元附近有阻力，下档的多头吞噬是支撑位（在40美元附近）。因此，我们可以准备进行区间的交易，在40美元附近买进，获利目标为44美元左右，止损可以设定在多头吞噬形态低点的下方。2月的行情发展确实是如此。请注意，在交易中，收益风险比率概念非常重要。不论你是以蜡烛图还是其他技术方法进行交易，首先都必须评估潜在风险与收益之间的比例关系（第4章将深入讨论这个问题）。</p>
<p>在图3-30中，在50美元附近形成一个典型的空头吞噬，因为它是由一个长黑实体吃掉一个极小的白色实体。3月又形成另一个空头吞噬，确认前次下跌从A到B点之间的幅度的50%为此次反弹的阻力位。</p>
<blockquote>
<p>图3-30 吞噬形态确认回落开始</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/30.png">
<p>相对期货来说，股票的开盘价与前一天的收盘价之间通常变化不大，所以股市中的吞噬形态定义相对于波动性较强的期货市场而言应该相对宽松。具体说来，如果第二根蜡烛线的开盘价与前一根蜡烛线的收盘价相同（见图3-31），我仍视之为有效的吞噬形态。</p>
<blockquote>
<p>图3-31 吞噬形态中第一根蜡烛线收盘价与第二根蜡烛线开盘价相同</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/31.png">
<p>图3-32所示的多头吞噬形态中的两根蜡烛线，后一根的开盘价与前一根的收盘价基本相同。这个形态的重要性后来显现了出来，因为它在4月的回落走势中发挥了支撑作用。</p>
<blockquote>
<p>图3-32 吞噬形态与股票：Gap—周线</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/32.png">
<p>看一个吞噬形态，要比较蜡烛线实体的相对长度。一个理想的空头吞噬形态，应该由一根长黑实体包裹一根小白实体。空头吞噬形态中的小白实体，显示上升动能开始不济，随后的长黑实体代表空方力量完全压倒多方。</p>
<p>然而，如果构成吞噬形态的两根蜡烛线在实体长度上大致相当，走势可能趋向横盘而不是反转（这个重要概念可在期权交易中用来卖空波动率）。这里我用图3-33中的德国马克走势图为例来解释这个重要概念。在1992年7月的空头吞噬形态（标示为1）中，两根蜡烛线的实体大致相等，代表多空双方基本上旗鼓相当。正因为空方没有明显获胜，随后两三周走出横盘形态就顺理成章了。行情突破这个吞噬形态的阻力位上行以后，又形成另一个空头吞噬形态（标示为2）。</p>
<blockquote>
<p>图3-33 吞噬形态与实体的大小：德国马克—周线</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/33.png">
<p>空头吞噬2更有信号价值，因为它由小白线与长黑实体所构成。由此可以预见行情将发生反转而不是横盘。这样一来，这个吞噬形态就成了阻力位。</p>
<p>在图3-34中，1991年年初出现一个空头吞噬形态，但两根蜡烛线的实体长度大致相等，如上所述，这可能意味着进入一段整固时期，果然，此后的行情形成了一个横盘带。这个空头吞噬的高点构成了阻力位，后来一根上影线对此予以了确认。1991年10月又形成另一个空头吞噬，由于它由一个长黑实体与一根小白线构成，因此比先前的那个吞噬形态更加重要。而且，由于出现在一个十字星之后，这个空头吞噬更有不祥之兆。具体说来，如果空头吞噬发生在十字星之后，尤其应该被视为一个空头形态组合。</p>
<blockquote>
<p>图3-34 十字星后的空头吞噬形态：日经指数—周线</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/34.png">
<h2 id="最后吞噬形态"><a href="#最后吞噬形态" class="headerlink" title="最后吞噬形态"></a><span style="color:#00ACC1;">最后吞噬形态</span></h2><p>空头吞噬形态一般发生在一段上升走势之后，体现为一个长黑实体包裹一个小白实体。但是，空头吞噬如果发生在下降走势中，则有可能是底部反转信号，这种形态称为最后吞噬底，如图3-35a所示。如果此后的行情中收盘价位于形态中黑色实体的上方，则这一形态可以视为由空转多的信号。</p>
<blockquote>
<p>图3-35 最后吞噬底与最后吞噬顶</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/35.png">
<p>多头吞噬形态发生在下降走势之后，体现为一个长白实体包裹前一个小黑实体。但是，多头吞噬形态如果发生在上升走势中，则有可能是个空头形态，称为最后吞噬顶，如图3-35b所示。按照蜡烛图理论，如果第二天行情的收盘价低于最后吞噬顶白线的收盘价，应视为最后吞噬顶的转空信号获得了确认。</p>
<p>日本人形象地将最后吞噬顶比喻为一对情人“双双殉情”：最后的长白实体让你爱上市场，但此后你也和市场一起毁灭。这话说得有些绝对，但它传达了一个原则，即在出现最后吞噬顶之后，交易者必须小心行事。</p>
<p>在图3-36中，1992年4月出现一个多头吞噬形态（请注意，本图反映的是股市走势，所以尽管形态中白色实体的开盘价与前一个黑色实体的收盘价相同，我仍然视之为吞噬形态）。由这里开始的一波上行以一个最后吞噬顶结束。这两个吞噬形态的组成基本相同，都是由一个长白实体包围前一根黑线。然而，4月的吞噬形态发生在下降走势中，而8月的吞噬形态发生在上升趋势中，于是成为最后吞噬顶。此后的周[1]收盘价低于吞噬形态中白线的收盘价，进一步确认了这是一个最后吞噬顶。</p>
<blockquote>
<p>图3-36 最后吞噬顶：柯达—周线</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/36.png">
<p>在图3-37中，在4月的价格峰位附近形成一个空头吞噬形态后，价格开始下滑，直到在图上标示长白实体的底部获得支撑。考验这个支撑的是4月末出现的两根蜡烛线，其中后一个长黑实体包裹前一根白线，这个形态与空头吞噬相同，但它发生在下降走势中，所以构成最后吞噬底。</p>
<blockquote>
<p>图3-37 最后吞噬底：1993年6月债券—日线</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/37.png">
<p>在图3-38中，9月的低点附近形成一个最后吞噬底。图中更应引起注意的是长黑实体对应的成交量很大，可以视为卖压高潮。这个高潮的出现，进一步增加了这个最后吞噬形态的底部反转信号价值。</p>
<h2 id="包孕形态"><a href="#包孕形态" class="headerlink" title="包孕形态"></a><span style="color:#00ACC1;">包孕形态</span></h2><p>包孕形态由一根长实体蜡烛线和一根小实体蜡烛线构成，而且小实体完全处在大实体之内。这两根蜡烛线的先后顺序与吞噬形态相反。吞噬形态中第二根蜡烛线的长实体包裹前一根蜡烛线的小实体，在包孕形态中，长实体蜡烛线在前，小实体蜡烛线在后。</p>
<blockquote>
<p>图3-38 最后吞噬形态与成交量：1993年12月石油</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/38.png">
<p>如日本人所说的那样，在下跌趋势中出现的包孕形态，代表“下跌的动能正趋于衰竭”。在上升趋势后出现的包孕形态，则代表行情没能守住高位。</p>
<p>如图3-39a所示，包孕形态不讲究两根蜡烛线的颜色，可以都黑都白，也可以一黑一白。但是，在一段下行后，先白后黑（第一根蜡烛线为长白实体，第二根蜡烛线为小黑线）或白白组合这两种形态的走牛概率强于先黑后白或黑黑组合这两种形态。这是因为长白实体本身便有多头的意义，所以包孕形态中如果有长白实体，那么市场跌势即将见底的概率就更大了。</p>
<p>同样的道理也适用于上升走势后的包孕形态。如图3-39b所示，在上升趋势中，包孕形态组合的第一根蜡烛线如果是长黑实体，则空头信号较强，超过了同一位置由长白实体所形成的包孕形态。因为长黑实体本身便是看空形态，当它出现在包孕形态中时，看空的理由就更充分了。</p>
<blockquote>
<p>图3-39 包孕形态</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/39.png">
<p>在包孕形态中，如果出现以下情况，则这个形态的意义就更重要了：</p>
<ul>
<li>如果第二个小实体位在第一个长实体的中点，行情可能出现反转。在一段上升后，如果第二个小实体靠近第一个长实体的上端，随后可能产生横向而非下跌的走势。我称这种组合为高价包孕形态，因为第二个交易时段的价格变化范围处于前一个交易时段的高位区。同理，在下降趋势中，如果第二个小实体靠近第一个长实体的低点，此后很有可能产生横盘而非返身上涨的走势。我称这种组合为“低价包孕形态”。</li>
<li>如果第二根蜡烛线的价格范围（开盘价、收盘价、最高价、最低价）完全处在第一根蜡烛线的实体范围内，价格反转的概率比较大。</li>
<li>第二根蜡烛线的影线越短，实体越小，形态的信号越明确。如果第二根蜡烛线是十字星而没有实体，发生反转的概率更大。这种长实体后面紧跟一个十字星的包孕形态，称为“包孕十字”。</li>
</ul>
<p>某些日本文献将包孕形态称为市场的过渡期。也就是说，在上升趋势中，如果行情走到了包孕形态上面，则这个包孕形态是多头中继信号。同理，在下降趋势中，包孕形态的低点被跌破，那么就可能出现更多的卖压。</p>
<p>在图3-40中，1992年11月，一个多头吞噬形态发动了一波上涨，但行情终止于12月的包孕形态。这个包孕形态有两个特点增加了其可靠性：第二个小实体几乎位于第一个长实体的中点，第二根蜡烛线（包括上下影线在内）完全处在第一个实体的范围内。非常有趣的是，1993年2月又出现相同的一幕。多头吞噬所触发的上涨在一个经典的包孕形态中结束。包孕形态出现意味着什么？日本人说，这是“市场出现了裂缝”。2月包孕形态后几个交易日内，出现一个流星线，也是一根上插线，是个空头信号，因为行情虽然创出新高，却没能守住高位（尽管图中流星线的实体处于前一根白线的实体之内，但这两根蜡烛线不构成包孕形态，因为流星线的上影线远超过前一根白线的范围）。</p>
<blockquote>
<p>图3-40 包孕形态：陶氏化学—日线</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/40.png">
<p>行情至此已经显现强烈的不祥之兆。如果对此还有怀疑的话，那么箭头所示的向下跳空应该视为行情已经见顶的最后证据。12月与次年2月的包孕形态成为后续走势的天花板。行情的低点出现在4月，是由一根锤子线砸出来的。4月晚些时候又出现一根极不寻常的长白实体，紧接着出现了小白线，形成一个包孕形态，引发一波下跌，跌势持续到另一根锤子线出现。</p>
<p>在图3-41中，空头吞噬所引发的跌势，在5月的包孕形态中见底。在该包孕形态中，第二根蜡烛线的实体位于前一个实体的底部，预示先前的跌势将转变为横向走势，价格波动范围靠近长黑实体的下方。请注意，在包孕形态之后出现的多根长下影线，代表80美元附近买盘积极。图中标示为X的组合并非包孕形态，因为第一根蜡烛线的白实体不够长。包孕形态中，第一根蜡烛线相比之前的蜡烛线必须有很长的实体。8月上旬又形成另一个包孕形态，似乎行情即将反转，但只是稍稍下挫后，行情就攀高到包孕形态上方，上涨趋势恢复，并向更高点攀升。</p>
<blockquote>
<p>图3-41 包孕形态：General Re—周线</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/41.png">
<p>图3-42中的两个包孕形态有一点很相似，第二根蜡烛线的开盘价、收盘价、最高价、最低价全都位于前一个长白实体内。10月的包孕形态尤其重要，因为第二根蜡烛线的实体极小，几乎为十字星，所以这个形态可视为包孕十字星。此后的①、②、③三根长黑实体，凸显市场的内在弱势状态。</p>
<p>如图3-43所示，1992年2月，19.00～19.50美元形成了一个支撑区（包括一根锤子线）。根据“极性转换原理”，先前的支撑跌破以后，将转变为阻力。所以，我们可以预计19.00～19.50美元将成为阻力区。后来的发展果然如此：该阻力区首先被一根流星线确认，行情由此确认开始持续下滑，直到出现一个刺穿形态方才止跌。5月，行情再次冲击19.00～19.50美元的阻力区，在此又形成包孕形态，紧接着又是个乌云盖顶。5月下旬行情再度挑战这个阻力区，形成一根上影线很长的蜡烛线（这根蜡烛线并不是流星线，因为并非发生在一波上涨之后）。</p>
<blockquote>
<p>图3-42 包孕形态与第二个实体的大小</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/42.png">
<p>如前所述，在一个理想的包孕形态中，第二根蜡烛线的实体位于第一根蜡烛线实体的中点。对于上升走势中的包孕形态，如果第二个小实体位于前一个长实体的上端（即高价包孕形态），行情转为横向整固的可能性较大，反转下跌的可能性较小。以图3-44为例，在6月上旬到7月下旬之间，陆续出现三个高价包孕形态（分别标示为1～3）。每个包孕形态之后，行情都至少出现一个星期时间的盘整，然后摆脱这个整固区间。这个图形又反映出高价包孕形态（或下降趋势中的低价包孕形态）的另一个妙用：期权交易者可以考虑见此而卖空波动率，因为这种形态出现以后，行情经常会由明确的上升或下降走势转为横盘，也就是说，可能意味着波动率的降低。</p>
<blockquote>
<p>图3-43 包孕形态确认阻力区：AST—日线</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/43.png">
<blockquote>
<p>图3-44 包孕形态中的第二根蜡烛线接近前蜡烛线顶部：1993年9月债券</p>
</blockquote>
<img src="/2021/01/25/第3章-蜡烛图组合形态/44.png">
<h1 id="窗口"><a href="#窗口" class="headerlink" title="窗口"></a><span style="color:#339AFF;">窗口</span></h1><p>“窗口”也称“脱节蜡烛线”，是威力最大的蜡烛图形态之一。如图3-45所示，日本蜡烛图理论中所谓的“窗口”，也就是西方技术分析中的跳空缺口。上升窗口是指今天蜡烛线的低点高于前一天蜡烛线的高点。同理，下降窗口则指今天的高点低于前一天的低点。窗口直观地反映市场状况，因为它显示出一边倒的行情趋势与市场心理。</p>
<blockquote>
<p>图3-45 上升窗口与下降窗口</p>
</blockquote>
<p>有一次在给一批交易员讲授蜡烛图理论时，根据我自己的经验，说窗口是一个非常好用的蜡烛图工具，其中一位告诉我他曾在一家日本银行工作过。我解释了窗口的意义后，他又说，他现在总算明白了，何以银行中的日本交易员经常在价格走势图中寻找缺口，有时甚至要回溯好几年的蜡烛图，只为找到一个缺口。他的话进一步强化了我对窗口意义的认识：窗口是不容忽略的蜡烛图技术之一。</p>
<p>窗口是一种行情中继形态，当它出现以后，市场将继续此前的趋势，所以上升窗口是一种多头持续形态，先前的上升趋势将持续下去；下降窗口是一种空头中继形态，先前的下降趋势将持续下去。</p>
<p>日本人对于窗口有一种说法：“反向走势遇窗口而止。”也就是说，对于上升窗口来说，上升后的回落应该在窗口内获得支撑；对于下降窗口来说，下跌后的反弹也应该在窗口内遇阻回落或停滞。</p>
<p>当我们以窗口作为支撑或阻力时应该明白，行情可能暂时跌破上升窗口的底部，或暂时上穿下降窗口的顶部，然后再沿着窗口的跳空方向反弹（上升窗口）或回落（下跌窗口）。图3-45反映的就是这种情况。</p>
<p>我根据自己的经验发现了一条非常有用的普遍原则：如果收盘价封闭窗口，则窗口出现之前的趋势就会结束。举例来说，如果在83～85美元存在一个上升窗口，而随后的价格收在窗口的底部（83美元）以下，先前的上升趋势应该视为已经完成。反之，如果在62～60美元存在一个下降窗口，而现在的收盘价格拉抬至62美元以上，则多方已经完全击倒了空方。</p>
<p>上述讨论强调的是收盘价，因此，如果只是盘中价格一度封闭窗口，还不可以视之为突破信号，必须等待收盘价守在下跌窗口上方才能确认下降趋势结束，或者收盘价压在上升窗口下方，才能确认上升趋势结束。对周线图而言，应该根据周收盘价（通常为周五）是否处于窗口底部下方，再来确认窗口的支撑是否已经被突破。等待收盘价来确认窗口是否被突破，当然意味着很大的风险，因为此时的行情可能已有很大的变化，远远超过了你的风险偏好度。</p>
<p>后面将讨论下列几点：</p>
<ul>
<li>等收盘价来确认窗口支撑或压力是否已被突破；</li>
<li>成交量如何影响窗口的意义；</li>
<li>以窗口确认趋势反转；</li>
<li>窗口如何快速反映市场状况；</li>
<li>等待三个交易时段再确认窗口的信号；</li>
<li>三窗口与趋势反转的确认；</li>
<li>双黑跳空；</li>
<li>跳空十字星。</li>
</ul>
<p>在图3-46中，9月的空头吞噬引发下跌，直至8月的上升窗口位置获得支撑。下影线很长的蜡烛线（1）与长白实体（2）都反映了窗口的支撑力。蜡烛线（1）的盘中行情曾经封闭窗口，但多方将收盘价拉升到窗口底部上方，从而维持了上行趋势。</p>
<p>在图3-47中，10月5日的锤子线启动一波涨势。多方背后的力量反映在当月后来出现的上升窗口及其巨大的成交量（以箭头标示）上。如果窗口由一根长白实体开启，称为奔驰窗口，因为行情朝窗口的方向（上升）疾奔。在本图中，在这个长白实体开启窗口之后，出现一根十字星，代表市场陷入踌躇，此后行情回落，但在长白实体的中点（以虚线标示）一线获得支撑，显示多方有能力维持上行。行情上升后，这个长白实体的中点就是这样转化为支撑的。</p>
<blockquote>
<p>图3-46 盘内打破窗口：1993年12月标准普尔</p>
</blockquote>

<blockquote>
<p>图3-47 窗口与成交量：苹果公司—日线</p>
</blockquote>

<p>在图3-48中，6月的乌云盖顶使得先前的上升走势夭折，这个形态引发的跌势在4月的窗口位置一线见底。这个图形中还有几点值得注意：6月下跌的低点出现在一个包孕形态中，而这个包孕形态的位置也在横盘区间，而这从此前的窗口就可以预见到。5月也曾经出现相同的形态—一个包孕形态出现在窗口支撑位。请注意，6月下旬由窗口支撑引发的反弹又在此前的乌云盖顶形态所构成的阻力位受压回落。</p>
<blockquote>
<p>图3-48　窗口构成支撑：1993年9月日元</p>
</blockquote>

<p>流星线有可能是一个空头信号，但如果同时开启一个上升窗口，该如何判断呢？在图3-49中，1月中旬便出现了这种形态。出现流星线之后，一位客户问我，这是否代表卖出信号（他知道通常情况下流星线为空头信号）。我指出，尽管这是一个空头信号，但这个形态还有一个更具意义的方面—上升窗口。我建议这位客户，如果他希望卖空，应该等待收盘价拉回到窗口以下，因为这时才可以确认上升走势已经结束。如果空头无法将价格压制到窗口下方，卖空是一个不太安全的行为。第二天行情上涨以后，这位客户立即订购了10本我的图书，分送给他的朋友。</p>
<blockquote>
<p>图3-49 流星线与上升窗口：1992年3月白银</p>
</blockquote>

<p>图3-49说明了有时被许多人包括众多蜡烛图使用者忘了的一个重要概念：单个形态都应该置于整体技术图景中考虑。在本例中，孤立地看这个流星线，而不去看前面的上升窗口，就可能导致交易的方向性错误。</p>
<p>我曾经在一次研讨会上出示图3-50，并称它为“烛光救险”，因为该图可以说明蜡烛图如何避免错误的交易。在3月中旬，某个交易日的收盘价突破了一条重要的阻力线（这一阻力线可以追溯到1991年12月，图中显示的只是这根阻力线的最后一部分）。这个突破本来可以视为一个可能的多头信号，但根据蜡烛图理论，它还有待确认，具体来说，因为3月上旬所形成的窗口仍然开着。根据蜡烛图原则，收盘价没有到达窗口顶部（本例中为1088美元）上方以前，行情趋势仍然向下。我们可以看出，尽管行情突破了那条阻力线，多方还是没有能力将行情推高至窗口上方。因此，虽然阻力线被刺穿，但是，熟悉蜡烛图理论的交易者不会在此时此价匆忙进场做多。</p>
<blockquote>
<p>图3-50　窗口压力再次验证压力：1992年5月可可</p>
</blockquote>

<p>窗口有时可以视为强效确认机制。如果在反转信号后出现相同方向的窗口，交易者对这个行情反转可以更有信心，图3-51即是一个例子。5月出现一个空头吞噬，行情稍稍下行，旋即上行，在7月上旬创新高。此时又出现了空头吞噬形态，与5月的空头吞噬不同的是，7月的这个吞噬形态后面立即出现了一个下降窗口，进一步确认头部形成。</p>
<p>图3-52说明窗口可以帮助我们快速诊断市场。本例中的股票是我的一位朋友买过的。当时市场传出一个重要的利多消息，此后股价立即飙升并创出新高（箭头标示处），但是，尽管有此利多消息，盘面还是出现了多个不祥之兆。首先是创新高的当天，收盘价处于前一天收盘价的下方，形成乌云盖顶形态。</p>
<blockquote>
<p>图3-51 窗口构成信号确认：IBM—周线</p>
</blockquote>

<blockquote>
<p>图3-52 窗口用于市场快速分析机制：Daxro—日线</p>
</blockquote>

<p>另一个迹象更意味深长。正如我对那位朋友说的那样，尽管有表面利多的消息，股价却无法守住新高，此时做多非常危险。股票的价格综合反映各方面的信息，包括公开的消息，也包括少数人才掌握的内幕。这只股票的许多筹码都集中在少数人手中，股价无法守住新高，也许意味着这批少数人掌握了一些大众所不知道的消息，他们已经可能借着涨升出货。当然，价格重回高点的可能性不能说完全没有。但是，看到那个下降窗口以后，我告诉那位朋友，除非股价的收盘位回到窗口顶部上方，否则这只股票的下降趋势已经形成。这个窗口构成了阻力，后来的两根流星线也验证了这个阻力位，8月又出现一个下降窗口。</p>
<p>某些日本交易员认为，如果窗口在三个交易时段内没有关闭，可以确认市场将朝窗口的方向发展。也就是说，如果在三个交易时段内没有关闭下降窗口，可以认为市场已经确认价格会继续下跌。我翻译过的一本日本著作提出，如果窗口在三个交易时段内没有关闭，那么市场将会顺着缺口方向运行13个交易时段。我虽然不同意说得这么绝对，但等待三个交易时段来确认窗口的支撑或阻力我是深信不疑的。</p>
<p>在图3-53中，3月上旬开启了一个下降窗口。根据上述讨论，如果要根据这个窗口来交易，应该等待三天的确认期，看看收盘价会不会到达窗口上方。如果多方不能够将收盘价推升至窗口上方，那么根据蜡烛图理论，很有可能下行趋势将会持续。毕竟多方有三天的时间可以推升股价，封闭窗口，但实际的情况是他们最终无功而返。5月，行情上试窗口阻力（62美分），但上行受挫，形成了乌云盖顶；几天以后，多方再度发力，再度受挫，形成一根上影线很长的蜡烛线（箭头标示处）。</p>
<p>我不建议过分强调等待三个交易日，而不是两个或者四个。日本文化非常重视“三”这个数字，这种迷信也渗透到技术分析中，因此要仔细观察窗口开启后的市场表现。你会发现，如果窗口没有在两个、四个甚至五个（而不是三个）交易时段内被封闭，也许仍可以认定窗口发出的行情持续信号有效。</p>
<blockquote>
<p>图3-53 窗口与等待3个交易时段：1993年6月无铅汽油</p>
</blockquote>

<h2 id="三窗口理论"><a href="#三窗口理论" class="headerlink" title="三窗口理论"></a>三窗口理论</h2><p>如前所述，日本人重视数字“三”，也因为此，日本人认为市场连续出现三个上升窗口或下降窗口，代表趋势已达极致，物极必反，修正就有可能会发生。图3-54说明的就是三窗口理论。</p>
<p>图3-55中除了窗口以外，还有许多其他的形态值得交易者关注。在1月中旬左右，市场出现多个底部形态，包括高浪线与启明星，行情显露转牛迹象，这个趋势后来又得到一个上升窗口的最后确认。行情从这里开始强劲上升，直到出现一个包孕形态。从这个包孕形态开始的行情修正在2月中旬终止，终止的方式是对1月窗口支撑的确认。从2月低点到3月上旬的乌云盖顶之间，出现①、②、③三个上升窗口，接着，行情以下降窗口的形式突破向下。请注意，这个窗口在随后几天内构成阻力。</p>
<blockquote>
<p>图3-54 三窗口理论</p>
</blockquote>

<blockquote>
<p>图3-55 三窗口后的乌云盖顶</p>
</blockquote>

<p>如上例所示，行情如在三个窗口之后出现空头蜡烛线信号，应该了结多头头寸。但是，更激进的投资者可能（正如日本人说的那样）更愿意“为理想而冒险一跳”，在出现三个上升窗口之后，不等进一步空头逆转信号出现就提前卖出。</p>
<p>根据个人经验，我以为，即使出现同方向的连续三个窗口，也不应该急于反方向操作，直到出现更多的趋势逆转证据再进行操作可能更加准确。也就是说，对我而言，行情必须收盘于最后一个窗口的下方（见图3-54），我才会认为出现了逆转。基于这个观念，我认为在图3-55中，标示为“X”的蜡烛线（3月）才是空头确认，因为它的收盘价位于“窗口3”的下面。</p>
<p>图3-56说明了等待的重要性—出现三个上升窗口后，要等待行情封闭最上方的窗口，才能认定反转已经确认。在这个黄金走势图中，4月的一个窗口标示为2，这是因为稍早还有一个上升窗口，但图中并未显示，所以这是第二个上升窗口。此后出现第三个上升窗口。窗口3之后的几个交易日中，出现乌云盖顶（完成于5月3日），代表行情出现变化，市场确实由先前垂直走向一变而为横向运动。尽管趋势确实发生了变化，但是并未确认必将下跌，因为空方没能封闭最上方窗口（收盘价没有处于窗口3下方），行情然后又继续上行。值得注意的是，同样的一幕后来又发生了，先是出现窗口4，然后又是一个乌云盖顶2。此后价格又由上行转变为横盘。同样，窗口4也始终没有被封闭，因为多方以一个锤子线的形态成功守住了窗口4。注意，这个窗口曾经在盘中被封闭，但是当日的收盘价没有守住窗口4的下方，意味着大趋势依然成立。因此，我通常建议客户，在出现三个或以上上升窗口（或下降窗口）后对冲既有头寸，或做保护性交易[1]；但在最近一个窗口被封闭以前，不宜激进地逆势而行[2]。</p>
<p>图3-56　三个上升窗口后等待趋势的反转确认：1993年12月黄金—日线</p>
<p>双黑跳空</p>
<p>下降窗口是个空头信号，而如果随后再连续出现两个黑色实体，则更是不祥形态，这种形态称为双黑跳空（见图3-57），它强化了市场由升转降的事实。按日本人的说法，这代表“多头陷入溃败”。</p>
<blockquote>
<p>图3-57　双黑跳空</p>
</blockquote>
<p>图3-58是Delta股票价格走势图，在50～60美元发出大量的不祥信号，包括：</p>
<ul>
<li>空头吞噬；</li>
<li>包孕形态；</li>
<li>黄昏星；</li>
<li>空头吞噬；</li>
<li>空头吞噬；</li>
<li>长上影线的白蜡烛线后面紧跟着一根黑线，构成乌云盖顶；而且熟知蜡烛图形态的交易者明白，那根白线之后出现的连续三根黑线，构成“三个黑乌鸦”形态。</li>
</ul>
<p>图3-58　双黑跳空确认阻力：Delta—日线</p>
<p>致命的一击是发生在11月上旬的“双黑跳空”—跳空黑线后面又来一根黑线。</p>
<p>在图3-59中，12月的一个包孕形态后出现一个长黑实体，这是一个重要的预警。还要注意这三根蜡烛线（包括包孕形态的两根）都有很长的上影线。在一系列的看空信号之后，又出现一个向下的跳空缺口，这个跳空黑线后面又是一根黑线，完成了双黑跳空。</p>
<p>图3-59　双黑跳空：强生公司—日线</p>
<p>跳空十字</p>
<p>如图3-60所示，下降走势中出现一个向下跳空的十字星，通常代表卖压增强，是个空头信号，但对这种情况，我建议应该等待确认，理由如下：如果这个跳空十字星后的第二天出现长白实体，且价格上行，则两根蜡烛线形成启明星形态，属多头信号。</p>
<p>图3-60　跳空十字星</p>
<p>在我研究的书籍中，只提到下跌市道中的跳空十字，而不提上升市道中的跳空十字。但在我看来，没有理由不把上升趋势中的跳空十字星看成多头信号，因为既然构成上升窗口，它就符合多头信号的基本要求。在这种情况下，我建议等待确认，即第二天继续上行，因为十字星有可能代表市场进入疲惫状态，而如果紧接着出现一根白色蜡烛线，则显示市场已经“恢复体力”。</p>
<p>正如先前十字星一节中所说的那样，如果在上升走势或长白实体之后出现十字星，则有可能是一个空头信号。然而，如果十字星是向上跳空的，则可以排除其内含的部分空头可能，因为这个上升窗口显示了市场背后的力量。</p>
<p>在图3-61中，十字星1并不是一个向下跳空十字，因为十字星中的高点高于前一天的低点，因此不是一个典型的跳空十字星，尽管如此，由于这个形态离跳空十字非常接近，所以我还是将其视为跳空十字。值得注意的是，第二天（十字星2）真正构成了一个跳空十字。随后虽出现锤子线和多头吞噬3，但没有能够构成支撑，导致股价收盘于这个多头吞噬的下方，所以市场的转弱信号进一步明显。最后，市场以一个下降窗口4的方式给出重要的空头信号。</p>
<p>图3-61　跳空十字星：1994年3月Notionnel债券</p>
<p>跳空十字是一种比较罕见的形态。图3-62中有一个实体很小的下跌蜡烛线，虽然不是十字星，但实体小到接近于十字，而且在前一天收盘下方打开了一个窗口，所以可以视为“准跳空十字”（即使交易者不把它看成跳空十字，也可视之为双黑跳空）。这个走势图中还有多个值得注意的蜡烛图信号，暗示股价会向40美元附近靠拢筑底，这些信号包括：蜡烛线1的长下影线和蜡烛线2的长白实体；8月下旬出现的流星线对从蜡烛线2开始的反弹构成了压力；行情突破了9月中旬锤子线的低点，但有趣的是，卖压在x处逐渐蒸发，这个蒸发过程体现为一连串实体不断缩小的黑线；长白实体y显示多头控制了局势。</p>
<p>图3-62　跳空十字星：IBM—日线</p>
<p>[1] 在美国有多种保护性交易方式，例如反向期权等，使投资者既不必了结头寸，又能适当保护自己的头寸。—译者注</p>
<p>[2] 如不但卖出头寸，而且卖空，或正好相反，做股指期货或其他期货对此比较容易理解。—译者注</p>
<p>有弟子曾问孔子：他会带哪种秉性的人上战场？孔子回答说，他要的不是视死如归的莽汉，而是谨慎面对困难、以策略谋胜的战士。策略也正是本章的主题。我拟阐述几个策略原则的重要性：止损、风险与收益的权衡、以大势为背景观察个股的蜡烛图、交易后跟踪市场的变化。只有全面掌握、使用这些策略原则，你才能真正发挥蜡烛图的力量。当你认真理解本章的内容后，你将会意识到：某个蜡烛图形态形成前后所出现的因素，才是交易成败的关键因素。</p>
<p>迭创新高（低）</p>
<p>大多数的蜡烛图形态都由1～3根蜡烛线构成，这显示了蜡烛图的优势之一：往往只要根据少数几根蜡烛线便可以判断趋势，而条形图需要考察的交易时间则长得多。如果某些蜡烛图形态的构成需要较多交易时段，那么这种形态本身往往特别有参考价值。迭创新高（低）就是这样一种形态，它由8～10根创出新高或新低的蜡烛线构成，交易时段很有可能超出8～10个。</p>
<p>在蜡烛图理论中，如果出现几乎连续的8～10个新高（或新低），则意味着先前的趋势面临改变的可能性大大增强。图3-76a分别显示了创出10个新高的蜡烛线组合，以及创出10个新低的一组蜡烛线。</p>
<blockquote>
<p>图3-76 迭创新高（低）形态</p>
</blockquote>
<p>在日本，几乎连续的8～10个新高（低）被视为一种非常重要的形态，有人甚至称其为“酒田身体里的根根骨头”。骨头或者骨架是人体的基础，所以这种说法凸显了迭创新高（低）形态是酒田图形的基础或者说是精华（酒田图形是蜡烛图的另一个名称，酒田是稻米交易港口城市，日本历史上著名的交易员本间宗久在这里从事交易。为纪念这段历史，日本的许多书籍中会将蜡烛图称为“酒田图形”）。</p>
<p>下面讨论如何计算创新高蜡烛线的数量（创新低蜡烛线的计算也一样，两者的原理是相同的）。首先，我们必须确定此前的下行行情走势中的最低点。见图3-76a的上半部分，在创出一个新低后第二个交易日[1]的高点抬高，这就构成了新高蜡烛线1。此后的某个交易时段（包括上影线）创出新高后，又形成新高蜡烛线2。请注意，在本图中，新高蜡烛线1的后面一个交易日并没有紧接着产生新高，所以不是新高蜡烛线。只有当后来的交易日创出新高以后，当日的蜡烛线才称为新高蜡烛线2。</p>
<p>在计算逆转下行走势中的新低蜡烛线时，首先必须找到前面上行中创最后新高的蜡烛线。此后交易中创出比这根蜡烛线的低点更低的新蜡烛线，便是新低蜡烛线1。此后如有交易日再次创出比新低蜡烛线1的低点更低的蜡烛线，便是新低蜡烛线2。</p>
<p>迭创新高（低）形态理论认为，在行情上行时，如果已经出现8～10根新高蜡烛线，应该停止买进（或变现多头头寸，而且，如果在这个形态后出现空头信号，甚至可以卖空）。同理，在跌势中，如已经出现8～10根新低蜡烛线，应该停止卖出（或对空头头寸做对冲交易，或者如果在这个形态之后出现多头信号，可以考虑买入，以待反弹）。</p>
<p>迭创新高（低）形态的构成中，新高蜡烛线或新低蜡烛线不必是连续（不间断）出现的，计点时要忽略其间出现的横向盘整的蜡烛线。但是，一般来说，在两个新高（低）蜡烛线之间的盘整蜡烛线不应该超过两根或三根，也不应该出现强劲的反向蜡烛线。</p>
<p>也就是说，这个形态中的新高（低）蜡烛线应该有相当的连续性，否则这个形态就失去了意义：出现8根新高蜡烛线（新低蜡烛线）时，说明市场处于超买（超卖）状态。在这种情况下，多头（空头）很有可能获利了结，价格因此很容易突然下跌（反弹）。</p>
<p>市场有两种方式化解超买或超卖状况，一是横向盘整，二是大幅修正。如果市场以这两种方式中的任意一种缓解了超买或超卖状态，则迭创新高（低）形态也就不再存在，因为行情之弦“不再紧绷”，不太可能引发修正。在图3-76b中，行情在5根新高蜡烛线以后很快出现连续三天的杀跌走势，由于跌幅较大，行情的超买状况得到了舒缓。如图所示，对于新高蜡烛线的计点必须从新低点2以后的新高蜡烛线起重新开始。</p>
<p>对于新高（低）蜡烛线的数目不必过于拘泥，8～10根只是个参考标杆而已，每个市场都有自己的特点。跟踪市场周期的人会发现不同市场有不同的周期，蜡烛图也一样，在有的市场上是8根新高（低）蜡烛线构成一个逆转前形态，而有些市场则可能是6根或者12根。</p>
<p>在图3-77中，我们由低点X开始计算新高蜡烛线。在新高蜡烛线8之后，连续出现两根十字星，说明市场正显出疲态。如果有交易者正在寻找卖出的理由，那么如此数量的新高蜡烛线加上两根十字星已经足够。1992年年底，新高蜡烛线11留下很长的上影线（构成流星线），成为多方的最后一逞。</p>
<p>图3-77　迭创新高形态：墨西哥电信—周线</p>
<p>在图3-78中，行情由空头吞噬形态引发大跌，几个月内，跌幅超过50%，在创出9根新低蜡烛线之后，行情趋于稳定。这个走势图显示了蜡烛图的优势，它不但呈现行情的趋势，而且其颜色可以让我们直观地感受到市场的强弱状态。这个图形将强弱两种状态以两种颜色泾渭分明地反映出来，如日本人所说的那样“就像雪和炭一样黑白分明”。10月开始由一个多头吞噬引发的短期上涨中，大多数的蜡烛线都呈白色（像雪一样），说明多头处于主导地位。11月以后的杀跌呈现为一连串几乎不间断的黑色蜡烛线实体，触目惊心地展示市场的弱势。</p>
<p>在图3-79中，9月上旬形成一个墓碑十字。值得注意的是，这个墓碑又确认了此前的迭创新高形态所预示的顶部信号。这个新高组合形态开始于新低蜡烛线L之后的那个交易日—市场创出新高蜡烛线1。在新高蜡烛线3以后市场喘息了几天，然后重新上冲，又创出新高蜡烛线4。由此可以看出，在新高蜡烛线3和新高蜡烛线4之间，市场横向整理数日，这是允许的，不影响迭创新高形态的形成（但是，如果新高蜡烛线5之后出现大幅杀跌，则迭创新高形态中的新高蜡烛线计数又得重新开始）。当日经指数行情攀高到新高蜡烛线7与8（这两根都是流星线）时，市场已经出现不祥之兆，随后又出现的新高蜡烛线9还是个墓碑十字，至此，它们一起构成了市场顶部。</p>
<p>图3-78　迭创新低形态：Amgen—周线</p>
<p>在图3-80中，在9根新低蜡烛线之后出现了刺穿形态，反弹可期。从1993年的高点21美元附近至刺穿形态的低点，跌幅约为4美元，如果期待有50%的反弹，则目标价位大约在19美元。行情的发展验证了这种预期，从刺穿形态开始的反弹行情就止步于这个位置。</p>
<p>图3-79　迭创新高与空头确认：日经指数—日线</p>
<p>图3-80　迭创新低与反弹高度</p>
<p>[1] 为方便中国读者理解，这里用的是交易日，但相关内容对其他长度的交易时段也适用。—译者注</p>
<!-- flag of hidden posts -->
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/日本蜡烛图技术新解/" rel="tag"># 日本蜡烛图技术新解</a>
          
        </div>
      

      
      
      

      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="CheBin">
            
              <p class="site-author-name" itemprop="name">CheBin</p>
              <div class="site-description motion-element" itemprop="description">放弃会成为一种习惯</div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">200</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">11</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">24</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          

          

          
          


          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <!-- modify icon to fire by szw -->
                <i class="fa fa-history fa-" aria-hidden="true"></i>
                近期文章
              </div>
              <ul class="links-of-blogroll-list">
                
                
                  <li>
                    <a href="/2021/03/09/第一章-期货交易的几大类型/" title="第一章 期货交易的几大类型" target="_blank">第一章 期货交易的几大类型</a>
                  </li>
                
                  <li>
                    <a href="/2021/03/06/第二十章-我是如何应用蜡烛图的/" title="第二十章 我是如何应用蜡烛图的" target="_blank">第二十章 我是如何应用蜡烛图的</a>
                  </li>
                
                  <li>
                    <a href="/2021/03/06/第十九章-利用蜡烛图进行保值交易/" title="第十九章 利用蜡烛图进行保值交易" target="_blank">第十九章 利用蜡烛图进行保值交易</a>
                  </li>
                
                  <li>
                    <a href="/2021/03/06/第十七章-蜡烛图与市场剖面图/" title="第十七章 蜡烛图与市场剖面图" target="_blank">第十七章 蜡烛图与市场剖面图</a>
                  </li>
                
                  <li>
                    <a href="/2021/03/06/第十六章-蜡烛图与艾略特波浪理论/" title="第十六章 蜡烛图与艾略特波浪理论" target="_blank">第十六章 蜡烛图与艾略特波浪理论</a>
                  </li>
                
              </ul>
            </div>
        

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#单根蜡烛线所构成的反转形态"><span class="nav-number">1.</span> <span class="nav-text">单根蜡烛线所构成的反转形态</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#锤子线"><span class="nav-number">1.1.</span> <span class="nav-text">锤子线</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#吊颈线"><span class="nav-number">1.2.</span> <span class="nav-text">吊颈线</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#流星线"><span class="nav-number">1.3.</span> <span class="nav-text">流星线</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#双蜡烛线所构成的形态"><span class="nav-number">2.</span> <span class="nav-text">双蜡烛线所构成的形态</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#乌云盖顶"><span class="nav-number">2.1.</span> <span class="nav-text">乌云盖顶</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#刺穿形态"><span class="nav-number">2.2.</span> <span class="nav-text">刺穿形态</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#吞噬形态"><span class="nav-number">2.3.</span> <span class="nav-text">吞噬形态</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#最后吞噬形态"><span class="nav-number">2.4.</span> <span class="nav-text">最后吞噬形态</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#包孕形态"><span class="nav-number">2.5.</span> <span class="nav-text">包孕形态</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#窗口"><span class="nav-number">3.</span> <span class="nav-text">窗口</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#三窗口理论"><span class="nav-number">3.1.</span> <span class="nav-text">三窗口理论</span></a></li></ol></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2018 – <span itemprop="copyrightYear">2021</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">CheBin</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">站点总字数：</span>
    
    <span title="站点总字数">2.1m</span>
  

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    
    <span title="站点阅读时长">31:49</span>
  
</div>


  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a></div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=7.0.1"></script>

  <script src="/js/src/motion.js?v=7.0.1"></script>



  
  


  <script src="/js/src/affix.js?v=7.0.1"></script>

  <script src="/js/src/schemes/pisces.js?v=7.0.1"></script>



  
  <script src="/js/src/scrollspy.js?v=7.0.1"></script>
<script src="/js/src/post-details.js?v=7.0.1"></script>



  


  <script src="/js/src/next-boot.js?v=7.0.1"></script>


  

  

  

  


  


  
  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  
  

  
  

  


  

  

  

  

  

  

  

  

  
<script>
  $('.highlight').each(function(i, e) {
    var $wrap = $('<div>').addClass('highlight-wrap');
    $(e).after($wrap);
    $wrap.append($('<button>').addClass('copy-btn').append('复制').on('click', function(e) {
      var code = $(this).parent().find('.code').find('.line').map(function(i, e) {
        return $(e).text();
      }).toArray().join('\n');
      var ta = document.createElement('textarea');
      var yPosition = window.pageYOffset || document.documentElement.scrollTop;
      ta.style.top = yPosition + 'px'; // Prevent page scroll
      ta.style.position = 'absolute';
      ta.style.opacity = '0';
      ta.readOnly = true;
      ta.value = code;
      document.body.appendChild(ta);
      ta.select();
      ta.setSelectionRange(0, code.length);
      ta.readOnly = false;
      var result = document.execCommand('copy');
      
        if (result) $(this).text('复制成功');
        else $(this).text('复制失败');
      
      ta.blur(); // For iOS
      $(this).blur();
    })).on('mouseleave', function(e) {
      var $b = $(this).find('.copy-btn');
      setTimeout(function() {
        $b.text('复制');
      }, 300);
    }).append(e);
  })
</script>


  

  

</body>
</html>
