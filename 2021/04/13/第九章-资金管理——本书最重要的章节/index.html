<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">




  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2">





















<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.0.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico?v=7.0.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.0.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.0.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '7.0.1',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="思考并回答以下问题：  商品期货交易是生意。我不能想象生意里没有资金管理。怎么理解？ 一个人要想成功就必须把所有可能失败的因素都剔除掉。怎么理解？什么是墨菲定律？ 在你具有优势的时候，增大对市场的投入；当你失去优势的时候，减少对市场的投入。怎么理解？ 良好的资金管理底线是，你必须要有充足的资本。怎么理解？ 总结一下，这章作者最主要想表达什么观点？">
<meta name="keywords" content="期货交易准则">
<meta property="og:type" content="article">
<meta property="og:title" content="第九章 资金管理——本书最重要的章节">
<meta property="og:url" content="http://yoursite.com/2021/04/13/第九章-资金管理——本书最重要的章节/index.html">
<meta property="og:site_name" content="车斌的技术博客">
<meta property="og:description" content="思考并回答以下问题：  商品期货交易是生意。我不能想象生意里没有资金管理。怎么理解？ 一个人要想成功就必须把所有可能失败的因素都剔除掉。怎么理解？什么是墨菲定律？ 在你具有优势的时候，增大对市场的投入；当你失去优势的时候，减少对市场的投入。怎么理解？ 良好的资金管理底线是，你必须要有充足的资本。怎么理解？ 总结一下，这章作者最主要想表达什么观点？">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://yoursite.com/2021/04/13/第九章-资金管理——本书最重要的章节/1.jpeg">
<meta property="og:image" content="http://yoursite.com/2021/04/13/第九章-资金管理——本书最重要的章节/t-1-1.jpeg">
<meta property="og:image" content="http://yoursite.com/2021/04/13/第九章-资金管理——本书最重要的章节/t-1-2.jpeg">
<meta property="og:image" content="http://yoursite.com/2021/04/13/第九章-资金管理——本书最重要的章节/t-2.jpeg">
<meta property="og:updated_time" content="2021-04-14T09:15:37.459Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="第九章 资金管理——本书最重要的章节">
<meta name="twitter:description" content="思考并回答以下问题：  商品期货交易是生意。我不能想象生意里没有资金管理。怎么理解？ 一个人要想成功就必须把所有可能失败的因素都剔除掉。怎么理解？什么是墨菲定律？ 在你具有优势的时候，增大对市场的投入；当你失去优势的时候，减少对市场的投入。怎么理解？ 良好的资金管理底线是，你必须要有充足的资本。怎么理解？ 总结一下，这章作者最主要想表达什么观点？">
<meta name="twitter:image" content="http://yoursite.com/2021/04/13/第九章-资金管理——本书最重要的章节/1.jpeg">






  <link rel="canonical" href="http://yoursite.com/2021/04/13/第九章-资金管理——本书最重要的章节/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>第九章 资金管理——本书最重要的章节 | 车斌的技术博客</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">车斌的技术博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">专注</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>关于</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>搜索</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/04/13/第九章-资金管理——本书最重要的章节/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="CheBin">
      <meta itemprop="description" content="放弃会成为一种习惯">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="车斌的技术博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">第九章 资金管理——本书最重要的章节

              
            
          </h1>
        

        <div class="post-meta">

          

          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2021-04-13 11:21:39" itemprop="dateCreated datePublished" datetime="2021-04-13T11:21:39+08:00">2021-04-13</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2021-04-14 17:15:37" itemprop="dateModified" datetime="2021-04-14T17:15:37+08:00">2021-04-14</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/期货/" itemprop="url" rel="index"><span itemprop="name">期货</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">本文字数：</span>
                
                <span title="本文字数">17k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">15 分钟</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>思考并回答以下问题：</p>
<ul>
<li>商品期货交易是生意。我不能想象生意里没有资金管理。怎么理解？</li>
<li>一个人要想成功就必须把所有可能失败的因素都剔除掉。怎么理解？什么是墨菲定律？</li>
<li>在你具有优势的时候，增大对市场的投入；当你失去优势的时候，减少对市场的投入。怎么理解？</li>
<li>良好的资金管理底线是，你必须要有充足的资本。怎么理解？</li>
<li>总结一下，这章作者最主要想表达什么观点？</li>
</ul>
<a id="more"></a>
<p><strong>“资金管理实际上是从赌场赚钱的最重要因素。”一位历史上最成功的21点游戏玩家这样说。这句话应该被每个商品期货交易者所熟知。</strong></p>
<p>从事21点游戏赌博最冒险的挑战就是玩家的获胜率很低。商品期货交易者是幸运的，我们可以发挥我们的优势，提高胜算。但还是考虑一下这个历史上玩21点游戏赚了最多钱的男人的话吧。</p>
<p>他没有说能够赢钱的最重要因素是他的系统，资金管理是他赚钱的最大原因。</p>
<p>想想资金管理多么重要，它能帮助玩家在游戏上提高胜算！</p>
<p>许多交易者觉得资金管理在交易中非常重要，资金管理也许没有交易决策那样受到重视，但从长远角度讲，资金管理更为重要。我们习惯认定眼下的交易必将成功，多数交易者丝毫不考虑如果交易失败会怎么样？所以我们必须准备好面对困境。假如我们的仓位超出了资金账面的风险承受度，结果不是被迫补仓，就是结束交易，或者两者都有。我们为什么要选择这样的仓位？答案很简单：贪婪。上一周进行的两三笔交易都有不错的收益，如果这笔再次成功那就完美了。所以在本来应该签下两笔交易的情况下，你却签了五笔，接下来，你就该大祸临头了。高明的交易者不会试图仅凭一笔交易就转败为胜。明天和后天还会有市场机会，所以明智的做法是，让你的交易量适合自己的资金账面。</p>
<p>即使在行情最好的时候，交易也会时常面临困境。如果你能把补仓的心思用在正常交易中的审时度势，那么你的良好判断力就能如同那幸福的青鸟般冲出窗口。要减少悲痛，节省资金，让交易量适合你自己的资金量。</p>
<p>不论选择合理的资金管理有多么复杂，归结一点就是：你需要一个方法最大限度地提升你连胜的几率，以及最大限度地降低连败的几率。</p>
<p>这一章的重要性，也就是资金管理的重要性，万万不能低估。如果贪财是万恶之源的话，那么不会资金管理就是赌博、股票和商品期货等投资收益失败的源泉。</p>
<p>你必须懂得资金管理，理由只有一个：它可以帮助你减少赔钱的机会，在商品期货交易中，90%的玩家都是赔钱的，还需要我说得更多吗？</p>
<p>商品期货交易和股票市场都具有风险性，除了增加现金流外，精明的投资者会在其能力范围之内尽其所能，找出一个合理方法来安排他的现金资产。</p>
<p>毕竟，商品期货交易是生意。我不能想象生意里没有资金管理。人们常常忘记，投机也是门生意，他们认为投机是个游戏，或者是个挑战。</p>
<p>好吧，投机既是生意，也是游戏，也是挑战，但是要想赢下这个游戏和挑战，就必须要把投机当作生意。一个人要想成功就必须把所有可能失败的因素都剔除掉。</p>
<p>明智的资金管理能够阻止大规模的市场亏损发生，这就意味着你能够一直把这个游戏玩下去。而那些没有合理资金管理方法的人，因为缺少资金，没有多余的钱能够管理，玩不下去，只能结束游戏了。</p>
<p>历史上的金融恐慌是我们意识到资金管理重要性的最好老师。1907年荷兰信任危机，其实在这场金融恐慌之前，就已经显示出一些警告了。1906年雅各布·希夫事件是最明显的。他告诉银行家们，“如果这个国家的货币状况得不到实质性的解决，这个国家的金融恐慌就会一直发生，重复之前发生的那些恐慌，就像孩子玩耍似的。</p>
<p>此后不久，英国银行的黄金账户创十年来最低记录，而债券市场也由于缺少买家遭到重创。当这一切发生的时候，没有任何一个人拯救，只有J·P·摩根走进金融恐慌的旋涡中心。为了避免金融恐慌引起股票价格崩盘，摩根采取了两项明智的资金管理措施。首先，他开始重塑公众对股票公司的信任感，使得金融稳定。更重要的是，摩根自己投资，以解决荷兰金融危机引发的信任危机。根据你们听到的故事，摩根个人投资了1500万到2000万美元以解决公众信任危机，并为证券市场和公司经济提供了多种支撑系统。摩根的一个账户显示，摩根同意调集约2300万美元购买美国钢铁公司的债券。</p>
<p>美国之所以能够拯救这场金融危机甚至这个国家，原因在于，正好在这个时期，摩根有充足的资本，有能力介入这场危机。</p>
<p>根据一些历史学家所说，摩根（或许是这个国家）当时可能在收盘前遭遇补仓。幸运的是，对大多数参与其中的人来说，这是不可能发生的。因为摩根有足够的资本抵御这场风暴。</p>
<p>这是我们所学习的关于资金管理的第一课。你必须有足够的资本抵挡住比最强风暴更猛烈的冲击。后面，我会向你们展示“比最强风暴更猛烈的冲击”到底是指多少，但是现在，我希望你们学习的是如何资金管理。</p>
<p>1929年的经济危机同样也是有关资金管理的生动案例之一。人们从办公楼跳下，一个接一个公司破产倒闭的原因，并不仅仅只是因为弥漫整个美国的恐惧感，最直接的原因是我们缺少资金。缺少资金的原因有两个。1927年底美国联邦储备系统开始收紧货币供应量，因此市面上没有多余的资金。另外一点是，企业包括个人太自不量力了。他们缺乏合理的资金管理方式，所以当金融危机来袭的时候，他们没有足够的资金摆脱危机。结果无可厚非，带来了一场绝对的灾难。</p>
<p>我所听过的（该说幸运呢，还是不幸呢，这些经历太多了）最好的剧情概要发生在1978年，那时我正在蒙大拿州竞选参议员，那是一个高通货膨胀时期。</p>
<p>一位年长的女士在一次市政会议上说，通货膨胀时期的生活状况与30年代大萧条很相似。她说：“在20年代，我们没有钱，我们什么都买不起。现在我们有钱了，但我们还是什么都买不起。”她认为这两种情况没有实质性差别。</p>
<p>最后，我一直都不能忘记我妻子的祖父讲述的一个故事。他养了一群300磅的猪，但却卖不到25美分。不是一磅25美分，而是一整头猪25美分。因此，他不能卖掉它们，并且把这些猪从乡下运到城镇要花费很多汽油费，他只好把这些猪带回牧场杀掉。现在，你看到了全球范围内贫困的影响力，不，应该是资金管理的影响力。</p>
<p><span style="color:red">良好的资金管理底线是，你必须要有充足的资本。</span>就像维持一段婚姻的底线就是要有足够多的爱，只有有了这些，才能度过最艰难的时期。商品期货交易、股票以及其他投机方式也是如此。你必须有充足的基本能量，在交易中资本充足，才能坚持交易下去。</p>
<p>曾有人说，文档也有记载，80%的股票和商品期货交易者会赔钱。我也曾经看过一项研究，研究指出，85%的大型经纪公司的经纪人账户都赔过钱。</p>
<p>造成这种投机高赔率的一个原因是存在太多像我这样的人，他们都想把少量钱变成大笔的钞票。在日内交易那一章里，你们应该读到我是如何在几个月内把2000美元变成30000美元的。一个人的成功就会使很多人趋之若鹜，越贪心，破产的人就越多。</p>
<p>我所说的读起来挺生动，但肯定不是商品期货交易盈利的方法。纪律和知识是成功的基石。不要为了可观的利润深陷市场。</p>
<p>每当逻辑的、理性的方法不能帮人们从困境中摆脱出来的时候，他们就在心理上和财力上想碰碰自己的运气。但运气不是解决问题的方法。即使胡乱的尝试能够帮助你赢得巨额利润，它也不是解决问题的正确方法。</p>
<p>我相信很大一部分商品期货交易者心里想的是要反复证明什么，而不是改善自己的财政状况。正因如此，他们找不到一个理性的资金管理方式。他们的动力不是赚钱，而是他们的自尊心。</p>
<p>雪上加霜的是，投机最大的快感就是获利的快感。有人说这也是生活中最大的快感。有时候，我也无从反驳。</p>
<p>即使很多年后，我经历了更多的事，我还是很清楚地记得最令我激动的证券市场承受巨大亏损的日子。亏损不一定是愉快的，但它们令人非常激动。在一天中失去5万到10万美元肯定会刺激到你，但是你能想想吗，等你咸鱼翻身，获利1百万美元，你能想得出来该有多么兴奋吗！</p>
<p>一些心理学家说，投机者的心里除了兴奋感，什么也没有。因此，所有的商品期货交易者参与到游戏中，只是为了寻求快感。</p>
<p>迅速获得或复制快感的最好方式就是，充分了解赌博的专业知识。</p>
<p>一个职业赌徒曾经告诉我，“赌博唯一令人兴奋的是冒着你承受不起的风险去赌。”好莱坞一位著名的编剧家曾写道，“如果我赌博输了2000美元，我填了一张支票，这一点都不刺激，刺激的是我填了一张15000美元的支票，而且我还知道其实我在银行一分钱都没有。”其实，投机者被严重误解了，人们通常都认为投机者是因为贪婪，想要获利才进行投机。其实我们不是——我们是寻求投机的刺激感。</p>
<p>即使是世界上最著名的作家之一陀思妥耶夫斯基，也是一个冒险的投机者。他曾经公开承认过，投机最主要的目的是寻求投机的刺激感。他发誓他进行投机与对金钱的贪婪无关。他一直流连在这个游戏中的原因是他自身的欲望，直到他被投机完全毁了。只有这样，他才能振作起来。讲到这里，我希望你们已经足够懂得资金管理的重要性。资金管理是能不能获利的根本原因。</p>
<p>我们总是在空地放着大蒜或十字架，以防止吸血鬼和狼人的袭击。商品期货交易者总是将自己置于穷途末路的边缘，我们需要在我们和危险之间建立屏障。这个屏障只能是：合理的资金管理方式。</p>
<h1 id="资金管理方法"><a href="#资金管理方法" class="headerlink" title="资金管理方法"></a>资金管理方法</h1><p>资金管理最好的实例来自世界赌博之都——拉斯维加斯，而不是来自那些华尔街巨头。请记住：有效的资金管理方法目标在于，在你具有优势的时候，增大对市场的投入；当你失去优势的时候，减少对市场的投入。人能够控制住市场，并提出几种最基本的资金管理方法。</p>
<p>所有的资金管理方法，都有两个最基本的原理。其中之一是，当你获利的时候加大对市场的投入。具有讽刺意味的另一个方法是，当你获利的时候，减少对市场的投入；当你亏损的时候，加大对市场的投入。</p>
<p>第一种方法的思想是，当你赢利的时候，趁势跟进，充分发挥你的市场优势。而第二种方法的思想是，你之前采取的方法大部分时间一直在盈利，而现在开始亏损了，意味着你很大程度上会扭亏转盈。<br>当你在一个系统里成功地做了一笔或几笔交易，但却与这一系统的交易成功率比例失衡。你期望能够继续盈利，但实际上你已经接近亏损的边缘了。因此，你必须减少对市场的投入。</p>
<p>以下向你们展示了这两种方法。注意在图A中，你所采取的方法导致权益波动很大。当你权益上涨时，减少对市场的投入，可以加大自己的优势；当你权益下跌时，加大对市场的投入。正如你们所看到的，当你的权益涨幅很大并在到达下一个峰值之前，图表就已经暗示权益会下跌了。</p>
<p>图B展现的是一个不同于图A的系统。在这个图中，权益几乎没有波动。这个系统值得信赖，只要你从这个系统中赚钱了，你就想投入更多的钱，因为这一系统远比它的性能稳定得多。</p>
<img src="/2021/04/13/第九章-资金管理——本书最重要的章节/1.jpeg">
<p>我个人对市场的交易方法显示，很少有系统化的商品期货交易方法可以得到如图B所展示的投资结果。如果遭受了一连串亏损，我想最好的办法就是减少对市场的投入。而我在本章余下部分讲述的不同投资技巧，就是基于研究这些图表所形成的假设。</p>
<p>首先，在构造出一个有效的方法之前，我们先学习一下风险、收益、概率论和博弈论。</p>
<h1 id="资金翻番的可能性"><a href="#资金翻番的可能性" class="headerlink" title="资金翻番的可能性"></a>资金翻番的可能性</h1><p>很少交易者知道交易者投资资本翻番的概率或机会，但我们可以从数学的角度搞清楚。我们需要的第一个标准就是你在整个游戏中的优势。在这里，这个游戏指的就是商品期货交易。对于我们来说，优势就是每一笔交易成功的概率。如果没有这种可能性，在交易中赚钱的机会就是50:50。第二个标准就是每一笔交易需要的资金。</p>
<p>以下图表显示了你在市场上拥有的优势和每一笔交易中有风险的资金数目。形成结果的数字就是你资金翻番的概率。最后，第四列显示的是你可以资金翻番的平均交易次数。</p>
<img src="/2021/04/13/第九章-资金管理——本书最重要的章节/t-1-1.jpeg">
<img src="/2021/04/13/第九章-资金管理——本书最重要的章节/t-1-2.jpeg">
<p>从这个图表，我们可以得到两个重要结论。第一，如果你在市场交易中拥有足够大的优势，并投入少量的资金，无风险的交易就是可能的。有谁会想到市场交易存在99%成功的可能性？很少有人能想到。</p>
<p>如果有一个60%正确的系统，投入10%的资金，并集中交易75次，我们就有88%的机会使资金翻一番。有趣的是，我所知道的很多中短期交易系统需要一年半的时间来发展交易数量。因此，如果你在商品期货交易中拥有60%的优势，并仅动用10%的保证金，保守地估计，每一年半就能让你的投资翻一番。</p>
<p>注意，如果你的系统正确率达到70%，我们投入10%的资金参与商品期货交易，我们就有88%的概率使资金翻一番。这里并没有改变什么。最大的改变应该就是使资金翻一番所需的成交量了。我们只需要50次交易，就能使资金翻一番，而不是75次交易。</p>
<p>其中的诀窍就在于拥有一个高度正确的系统，并且愿意投入大笔资金。</p>
<p>出于实战的考虑，一个好的日内交易系统应该有60%-70%的盈亏比例。</p>
<p>相应地，如果你的目标是以最高程度的可靠性使你的资金翻一番，你希望在每次交易基础上都能再投入5%的资金，虽然你有87%的机会使你的资金翻番，但实际上至少三年后你才能翻一番。</p>
<p>使用什么样的参数，完全取决于你的个人感受，取决于你想有多大的概率使你的资金翻番。你可以使用图表，将资本保全考虑在内，决定你要使用哪一个系统进行交易。如果你的系统只有50%的正确性，显然你可以交易的资金要比达到60%正确性的系统少一些。</p>
<p>总之，一个商品期货交易者如果做到以下两点，他就肯定能够赚钱。一是找到一个能使他在交易中充分发挥优势的系统。我希望盈亏比率为55%，这样盈利的可能性就会更大一些。二是交易者进行每笔交易时，切忌一时兴起或感情用事，将投进去的钱转换成百分之百的流动资本。投入的百分比越高，盈利的可能性就越低。但是，盈利周期会缩短。交易系统的准确性越高，你就能投入越多的资本进入市场，并且距离成功的周期也越短。</p>
<p>下表反映交易系统中任何给定的概率都将是正确的。</p>
<img src="/2021/04/13/第九章-资金管理——本书最重要的章节/t-2.jpeg">
<p>左边一列显示了给定系统正确率的百分比。我一共采用了5个系统：一个系统正确率45%，一个50%，一个55%，一个60%，还有一个65%。然后，从左到右看这个表格，我设计了一排数字，显示了如果上一次交易没有成功，下一次交易的成功性会有多少。</p>
<p>如果你现在使用的是正确率为45%的系统，在上一次交易中你失利了，那么下一次交易成功的可能性达到69.8%。如果你连续在两次交易中失利，那么你在接下来交易的成功可能性达到83.4%。如果你连续失利了四次，那接下来那场成功的可能性达到90.8%。连续失利五次，成功的可能性就会达到95%。如果你实在太倒霉，失利了6次，那么你在下一次肯定能咸鱼翻身，成功的可能性达到97.2%。</p>
<p>这个表格用资金管理向我们展示了那些令人着迷的而又给力的数字。同样，如果你拥有一个均线系统，正确率达到50%，你很快就能看见，如果你连续交易失利两次，下一次交易成功的可能性达到85%。更为重要的是，如果你连续失利了三次，下一次交易成功的可能性就达到93.7%。</p>
<p>可能性与概率是不同的。</p>
<p>系统的可能性是永远不可能改变的。下一次交易的可能性永远都是50%（在正确率为50%的系统中）。</p>
<p>但是，下次交易成功的概率不尽相同。虽然赔率是恒定不变的（赔率始终都是该系统的正确率），下次交易成功的概率是基于数据出现的频率。显然，在一个50:50的系统中，其中一半的交易将是正确的。但是，当我们经历一系列的连续亏损后，下一次交易中成为赢家的概率就会有所提高，正如上表所描述的一样。</p>
<p>你表示怀疑？那就看看下面这个。这是一副扑克牌，你的任务是挑选出黑桃A，在52张牌里挑中它的几率是1:52，而你抽出了10张牌，那你挑中的几率就变成1:42，接下来把所有的牌都拿开，只留2张牌，黑桃A还没有出现，现在你挑中它的几率就是50%了。</p>
<p>假设一下，在未来你还是一直使用过去使用的交易系统，那么在每次亏损（从牌里挑出黑桃A）之后，拿到正确的那张牌（盈利）的概率就会越高。</p>
<p>对于那些交易资金有限且交易系统正确率不是很高的人来说，这是非常有利的。当你连续亏损到一定程度时，成功的概率就会大大地青睐于你。</p>
<p>如果你使用的是正确率为55%的系统，就看看会发生什么吧。如果你经历了四次交易失利，那下一次交易盈利的可能性就达到96%。如果下一次交易又失利了，那再下一次的盈利概率就高达98%。</p>
<p>现在，我们来讨论一些有关资金管理比较重要的数据。如果你现在的交易系统具有55%的正确率，而且连续交易失败了三次，那么你每次交易成功的可能性就超过95%。</p>
<p>平均成功率一直保持较高，特别是在商品期货交易中。让我们来指出以上表格中所显示的图形和数据。在商品期货交易中一切皆有可能。在许多交易系统中，发生连续7-10笔亏损。当然，这是系统的低正确率造成的。一般而言，交易者受到情绪的控制，很难坚持将资金管理策略运用到所显示的图中。如果没有什么其他要注意的，资金管理策略可以引导你，但是你必须记得可能性要比概率高。</p>
<p>不幸的是，大部分商品期货交易者更关心的是抓住市场的峰值和谷底，然后在市场中获胜，而不是赚钱。</p>
<p>不论你的经纪人、朋友、邻居、银行家或牧师跟你说了什么，如果你的目的是赚钱，那么资金管理方式可以帮助你。</p>
<p>如果你的交易指令建立在交易选择标准基础上，在进行交易之前，设计或购买一个具有高盈利性且能够准确进行资金管理的方法，那么赚钱就变得很简单了。</p>
<p>资金管理在拉斯维加斯赌博概率中的作用，与在商品期货交易中的作用具有本质差别。</p>
<p>听我解释一下：市场走向正如这里所显示的。市场通过自身基础的积累，然后派发，最后上涨。另外一个模式是积累/派发，然后下跌。这样运转下去，永不停息。市场从一个交易范围中跳出，然后进入另外一个爆发临界点。</p>
<p>在市场爆发性过程中赚钱。</p>
<p>如果你能够简单地抓住市场爆发临界点，你就可以构造出一个正确的系统。</p>
<p>有一个方法可以帮助我们抓住临界点，记住，市场的结构注定了在实质临界点出现之前，市场会经历一段波动很大的时期。</p>
<p>在市场波动最严重的时候，随着市场来回波动，我们会遭受一连串的亏损。如果你有耐心的话，连续亏损三次之后，你就有把握取得一场交易的胜利（在前面的图表中，我们已经知道这一点了）。从市场结构表格中我们也知道由于市场临界点，下一场交易盈利的可能性也在提高。从波动时期到爆发时期，再从爆发时期到波动时期。一项交易系统的研究表明，连续失利后市场的平均盈利率要比一般系统中市场的平均盈利率高。在50/50的赌博游戏中下注，回本的比例为1：1，而在商品期货交易中，由<br>一个图表显示的是，在猪腩系统中，我们连续等了三次失败的交易之后才开始交易。可以看到的是，亏损的交易有16次，盈利交易37次，正确率达到69%。</p>
<p>注意发生了什么。总的来说，系统正确率达到46%。我们还是等交易失败三次，我们下一次盈利概率变成70%。这是惊人的！</p>
<p>最为吸引人的是，它与概率表相符。两次交易失利后，我们盈利的可能性达到60％。</p>
<p>当我们意识到，474次交易获利97688美元时，交易中智慧的重要性便以这种形式更深刻地体现出来。</p>
<p>这就意味着，无论是胜利者还是失败者，我们最后每笔交易都能获利206美元。如果我们总是等待连续三次交易失利后再交易，我们53场交易净赚29736美元。除以53，意味着我们平均每场交易可以净赚561美元。简而言之，每次交易资金都至少翻了一番，同时增加了我们盈利的概率和交易的正确率。我还想详述一件事实，大部分交易者都不应该逾越这个数量。即使这是市场交易中最可靠、最受益的方式。近期一些发表在学术杂志上的文章表明，“较高的预期回报提高了破产概率，期望回报率能够达到20%-40%，几乎把破产的概率提升到了4倍。”</p>
<p>另外一个比较生动的策略是我之前运用在游戏里的，通过研究一连串的失利，得出游戏的概率。在我的电脑里，3次失利连续重复3次的概率（包括25000个事件）几乎为0，换句话说，你几乎不可能。还是看下面吧。盈利、亏损、亏损、亏损、盈利、亏损、亏损、亏损、盈利、亏损、亏损（最后），还有另外一次亏损。</p>
<p>交易者可能通过一系列的亏损事件来设计他的交易策略。顺便提一下，在一个活跃的系统里，25000次交易需要480年。这些一连串的交易失利事件可以帮助你挑选出有价值的交易事件。</p>
<h1 id="建立资金管理模式"><a href="#建立资金管理模式" class="headerlink" title="建立资金管理模式"></a>建立资金管理模式</h1><p>如果商品期货投机者很确定地知道，他在市场中的优势地位在什么时候体现，那么他就可以建立一套更成功的资金管理模式。如果他知道他在市场中的劣势何时体现，他就会在那时减少交易。</p>
<p>要建立一套成功的资金管理方法，必须注意以下三点：</p>
<p>第一，一个拥有10000美元的人对商品期货交易的需求必然与拥有100000元的人有很大不同。他们都需要一套模式来使他们的资本运转起来，但方法会很不一样；第二，当你已经使用一套资金管理模式，试着思考一下这套模式的最坏结果是什么。这可以告诉你在最不利的局面下大概需要多少资金来渡过难关；第三，你需要知道下一次交易的成功概率有多高。显然投资成功率为40%的模式与投资成功率为60%的模式所需要的资金是不同的。</p>
<p>一定要记住，人性可能更想追求利益最大化，但是资金管理的重点却在于规避风险。</p>
<p>总的来说，风险回避可以简单地理解为，不论发生什么事，你都有足够的资本来恢复资金运转，挽回损失并重建资本实力。</p>
<h1 id="硬币的另一面"><a href="#硬币的另一面" class="headerlink" title="硬币的另一面"></a>硬币的另一面</h1><p>赌博文学充满了哲学性的建议，它告诉大家在赌场取胜的关键是，当优势向你倾斜时一定要敢打赌。</p>
<p>当一些聪明人使用这些方法时，他的所有功能将全部显现出来，比如，朱利安·布劳恩已经在赌博，并且胜券在握。</p>
<p>在商品期货市场，我们也需要这种方法。首先我们要建立需要交易的资本量，第一步就是要察觉我们需要避免哪些风险。这就意味着，你需要一些数据，可以显示在过去的5年里，你的系统可能存在的最坏的经济萧条或灾难现象。你必须确认最糟糕的权益倾斜状况。如果在过去的5年里，系统创造了100000元的交易额，你不只是要专注于这个数字，你还需要核查当经济状况最差时所需的最多资金数额。或许重新盈利时，系统会产生50000美元的损失。因此，在一份合约里，资本加上足够的利润，你应当需要至少50000美元。</p>
<h1 id="我的运作规则"><a href="#我的运作规则" class="headerlink" title="我的运作规则"></a>我的运作规则</h1><p>我的资金管理运作规则是，首先确定你以前经历过的最大风险暴露。把风险扩大1.5倍，来计量你需要的缓冲，以确定无论发生什么（比如事情比以往我们看到的糟糕0.5倍），你仍然可以进行交易。</p>
<p>让我们来看一看早前猪腩交易系统所引用的真实事例。系统测出的股市下跌的最大额度为6804美元。这意味着，你必须已经有6804美元和一份合约足够的利润来平衡这场糟糕的风暴。我们需要6804美元，并将它乘以1.5倍，也就是说想要成功地运作这个系统，你必须有10206美元和足够的利润。这是你足以开始交易的基础。我们已经做的是保护自己免于经受毁灭性的风险。接下来，我们要转移注意力，以寻求一种途径在进一步限制暴露的同时，最大限度地提高资金管理，来提高交易系统的效益。</p>
<p>证明你是一个成功交易者的最好途径是，你要知道投机跟赌博之间的不同。想要区分它们的不同，你可以去一趟拉斯维加斯，看看那里的系统与你的交易系统有何不同。</p>
<p>事实上，我们可以用数学的方法推测出来，一个商品期货交易者要想把他的初始资本翻一番的可能性是多少。</p>
<p>接下来，通过展示一位优秀的期货投资顾问发放给追随者的消息，我给你们讲述一下理论和实际性能之间的差距。你们能够看到，他的理论结果非常理想，理论上应该能赚钱，但实际上他却亏损了。</p>
<p>接下来我想与你们分享一下我所认为的最好资金管理方式。我在这一章前面说过，你必须首先确认你想要投入交易的资金数量，超过你所经历过的市场最大跌幅的150%。如果你最大跌幅为10000美元，那你的一份合约的投资金额必须在15000美元左右。如果你接下来的交易是在一份合约的基础上，那么你的交易很可能会盈利。</p>
<p>你可以选择两种方式的其中一种投入市场。第一种是最保守的方法。一直等到你有足够的资金（最大跌幅的150%）再进行下一交易环节。在上面引用的系统中，你可以收益15000美元，然后你就可以交易两份合约了。一旦在另一份合约里你又收益了15000美元，那你每次交易的时候可以扩大到三份合约。以此类推，你可能在一次交易中可以交易6-10份合约。</p>
<p>注意你是否每次都采取了正确的方式进行资金管理。你必须有足够的资金，防止崩盘发生，我们玩游戏就应该遵守游戏规则。</p>
<p>在任何游戏中，你要想保持优势，最成功的方法就是在长期内少量交易。在一场游戏中，如果幸运女神不眷顾你，你唯一可以获胜的方式就是把资金押在少量赌注上面。下少量注而想赢遍赌场的人，字面上理解就是用鸡饲料喂赌场，怎么都不可能喂饱。玩家不可能赢钱。你想要克服赌场获胜的可能性只有一个方法，那就是短期内大量交易。将希望寄托在幸运女神身上，期待优势在你这边，而不是在赌场那边。但是，如果你待在赌场里的时间过长，幸运女神就会离你而去，取而代之的又是概率了。</p>
<p>概率这东西比幸运女神更有力量。这就是为什么我们有大量资金却少量交易的原因。当我们遵循一个成功系统的时候，在我们身边的是概率而不是幸运女神。如果我们长时间少量交易，我们就能够发财。</p>
<h1 id="资金管理的第二种方式"><a href="#资金管理的第二种方式" class="headerlink" title="资金管理的第二种方式"></a>资金管理的第二种方式</h1><p>这些年来，我一直试图在一个系统中增大收益。我首次尝试的是最简单的马丁格尔策略，在一次交易失利后，我就交易两份合约。下一次再失利，我就会交易四份合约，再失利，交易再多一倍。一开始是一份合约，然后两份、四份、八份、十六份，然后三十二份，以此类推。在一连串的六次失利之后，我正在交易64份合约。这太困难了，这需要相当巨大的一笔资金，更不要谈有胆量去做了。</p>
<p>在这个入门方法基础上，这些年我提出了两种方法，可以帮助你在市场中取得优势，通过正确的资金管理方式，增加你在一个系统中的收益。第一种系统非常简单：即一旦实际情况与系统预计不符，就考虑开始增加资金投入。</p>
<p>例如，如果你所用的交易系统预计有60%的成功率，像大部分我使用的系统一样，那你就需要静静等候，直到实际的成功率和预计的成功率不符。当10单交易里出现了6单不成功的，你就可以开始增加资金的投入，增加一倍的交易资金。换句话说，当出现了6单不成功的情况时，你就可以在下次交易中投入两倍的资金。不论下次交易成功与否，都坚持投入两倍的资金，直到成功率达到60%（10单里面有6单成功的）。</p>
<p>这是最保守的增加资金投入的方法，这种方法适合那些不愿冒大风险，但同时又想提高业绩的人们。</p>
<h1 id="一增一减"><a href="#一增一减" class="headerlink" title="一增一减"></a>一增一减</h1><p>第二种管理资金的方法则有所不同，是为稍微胆大的人们准备的。这种方法比第一种方法具有特定的优势，因其仅占用大概30%-40%的时间，但同样可以让资金投入者盈利，而不会陷入连环的亏损之中。</p>
<p>这种模式遵循的套路是：每次出现不成功的交易，就在下次交易中增加一倍的资金投入。</p>
<p>为了便于讨论，我们假设一个资金单位就是一个合约，并且你第一次投资一个合约的交易不成功。这种情况下，在下一次交易你就应该投资两个合约。如果两个合约的交易还是不成功，那你就投资三个合约。然而，如果三个合约的投资成功了，那你就在下次交易中减少投资到两个合约。如果两个合约成功，那你就得在下次交易中退回到一个合约。总而言之，失败就增加投资，成功就减少投资。利用这种方法，你会很快发现你的利润越滚越多。</p>
<p>我展示给你的方法是成功的资金管理方法。</p>
<p>我自己尝试过许多其他的方法，像平衡赌法，或是每次失败交易后增加多个合约的投资，或是通过双边投资来获取高盈利率的方法。如果系统足够精确，譬如一个60%成功率的系统，那些方法或许很容易成功。但在实际交易中，大部分人没有足够的资金来检验这样一个平均的成功率。</p>
<p>作为一个研究过成千上万种赌博系统和资金管理方法的人，我希望你能相信我的评估方法。然而，我绝不是一个赌博者。毕竟投机和纯粹碰运气的赌博还是有着很大的区别。投机来自于拉丁词汇，原意是观察。我认为那是每个成功交易者应该具备的能力，他们观察事物、事件和资料，进而判断哪些信息可以转换为交易。而一个赌徒，所能做的只是希望好运常伴。</p>
<p>当你对资金进行管理时，需要考虑四个重要因素。我们假设你现在拥有10000美金作为风险资金投入到市场中。</p>
<p>不过请注意，这一方法和大部分人所研究的方法不太一样。他们假定自己拥有无限的资源，失去了所有资金之后，还能重新开始。</p>
<p>那是错误的方法，现在你要做的就是对自己说，没问题，我就只有10000金用于交易，一旦消失了，就不会再有了。</p>
<p>你也必须知道风险的存在。你肯定不会是为了娱乐而投资10000美元在某个市场上，或是出于好意而将10000美元送给你的经纪人当作佣金。你冒险投资的原因只有一个：赚更多的钱。</p>
<p>然而，赚钱这个词太宽泛、太笼统。你必须给自己设立一个目标。有了目标，你就能更好地判断你所付出的是否能满足你所期望的报酬，即你的目标。</p>
<p>如果你拿出10000美元作为风险资金，那么你所期待的最小回报也应该是10000美元，我认为这一假设是符合逻辑的。简而言之，你的盈利目标是10000美元。</p>
<p>剩下的两个因素将会让你在交易中处于优势。一个好的交易系统，将会使你在过去和未来之间控制资金损失的波动保持平衡。而最后一个因素，控制，指的是你对于投资的合约数量的控制。换句话说，你愿意花多少资金投入到每个合约中？</p>
<p>以上介绍的就是我认为在资金管理中极其重要的四个因素。自觉地监控这四个因素，将会使你盈利。风险资金控制、交易系统、目标和交易规模都确认了，剩下的唯一不确定因素就是一些实际会出现的情况。</p>
<p>帕斯卡曾经在1654年证明，即使投机获利的概率极低，通过有效的资金管理和投资规模控制，获利率仍然可以超过50%。在赔率极高的情况下，投资规模太小将会使你最终以失败告终。</p>
<p>但另一种说法是，当盈利率极高的情况下，小规模的投资会使你成为最后的赢家。</p>
<p>有效资金管理的第一个准则是，投资规模不能太大。你必须确保当某些交易以失败告终时，仍有足够的剩余资金来扭转形势。一两次，甚至五六次，十到十二次的失败交易不会导致你倾家荡产。</p>
<p>在确保适当的规模的前提下，你还必须保证投资的连续性。换句话说，一段时间内你所交易的合约量必须保持稳定。当偶尔出现盈利的机会时，你可以谨慎地增加投资。当情况不利时，你可以适当减少投资。</p>
<p>当我在市场上投资交易时，我自己会有一套不同的指标。当出现大牛市时，我会增加购买量。不过，无论发生什么，除非指标良好，一般我只进行最基本数量的交易。</p>
<p>我每天都做大量的交易。每个交易日，我都会做25笔标准普尔500指数合约的交易。如果指标非常好，每天我做的交易数量可能高达50笔。但那只是例外，并不是我的惯例。我的惯例是坚持那些固定的交易单。失败者总是超额交易，成功者总是谨慎交易。引用我在保罗·都译·琼斯办公室里看到的一句话，就是“规模越大，麻烦越多”。</p>
<p>我希望这本书中介绍的工具能帮助你更好地判断投资市场的最佳时机。</p>
<p>我们也可以利用统计资料来帮助判断投资市场的最佳时机。最好的方式就是看看系统点击的频率。因此，第二个关于交易优势的知识与系统的当前状况有关。</p>
<h1 id="资金管理的实际应用"><a href="#资金管理的实际应用" class="headerlink" title="资金管理的实际应用"></a>资金管理的实际应用</h1><p>我们已经讲了那么多，下面，就把这一伟大的理论应用到实际中。</p>
<p>把握机会</p>
<p>现在我想说的就是如何把握机会，或许，这会使我们在未来的商品期货交易市场中成为赢家。</p>
<p>首先我要说的是，我们必须打破过去烦琐的商品期货交易体系。这样的话，一般情况下在交易中成为赢家的可能会占到40%甚至以上。而交易中成为赢家的可能占到40%的话，肯定会赚钱，因为利润远远大于亏损。通常这种交易会把一个市场体系分为两类。随后我们会讨论这两类问题。如果你有一个交易体系，这个体系的正确率低于或等于40%，那么我劝你按以下方法改进你的体系。等待三次不赚钱的交易。假如你果真做了3次不赚钱的交易，而且每次交易都签了合约，那么你仿照第三次亏本交易，在下一交易中再签两份合约，假如这笔交易失败，中止，等待，直到你有另外三次不赚钱的交易为止，你仿照这三个新增加的不赚钱交易，在下一次交易中再签三份合约，如果此交易成功，很好，开始逐一履行合约。如果这笔交易失败，停下，直到你再有另外三次不赚钱的交易为止，然后你在下一笔交易中可以签四份合约。依此类推。</p>
<p>如果你有一个交易体系，这个体系的正确率大于或等于50%，你就可以等两笔不赚钱的生意，然后你可以按我的上述方法如法炮制。</p>
<p>总之，一个商品期货交易者肯定能赚钱，但必须做到以下两点：</p>
<p>首先，要发现一种经营手段或经营体系带来的好处远远大于“游戏规则”，我愿意交易的利润大于55%，以抵消亏损。当然，这样一来盈利肯定大于亏损。其次，交易者必须做出一种承诺：交易不仅仅是源于他的想法和动机，而且是作为一定比例的资金投入，接受很小比例的亏损，会带来较大的盈利；想获得很大比例的盈利，盈利的机会反而很小—但在短期内，你还是会赢的。</p>
<p>打破常规</p>
<p>还有一个关于资金管理的有趣办法。现在，你有一个正确率60%的系统，突然它的错误率达到60%，这时候加大你的市场投入，每次交易都多交易一份合约，一直如此，直到系统恢复到60%的正确率。</p>
<p>每一个系统都有高峰和低谷。我曾经看过一个60%正确率的系统连续正确预测15次交易。同样，那些60%正确率的系统也会降低到只有30%的正确率。我想要看到的是，一个60%正确率的系统突然下降到只有40%的正确率了，然后我在每个买入或卖出信号时，都多投入一个申报单位，直到系统恢复到60%正确率。这个方法其实对增加你的总收益很有帮助，因为每一个信号你只多加了一申报单位，所以不会增加危险性。在市场摇摆不定的时候要一直等，直到方向明确，市场重新开始上涨的时候再交易。在市场没有明确方向有可能还会摆动到另一方向之前，一定要降低你的风险暴露。</p>
<p>最后，我将向你们介绍我所认为的适合资本完善的最好策略。</p>
<p>我们在游戏中占据优势的时候，我们才玩游戏。不论你的经纪人、朋友、银行家、邻居或是其他任何人向你说过什么，我们所需要的方法一定是尽可能打磨出来的方法。</p>
<p>我们之前已经介绍过了，在赌场赌博的时候，如果优势不在你这一边，那么长时间的少量下注之后你肯定会输钱。赌场很喜欢这一点。我们需要记住的是在赌场里我们都是对手，我们是赌徒。成功的可能性对我方有利。因此，我们需要一个集思广益的系统。那长时间的最好方法是怎样的呢？</p>
<p>我所提出的最好方式就是一个40%正确率的系统，按照如下方式运作：等待连续三次交易失败，然后在下一次交易的时候，投入两个单元或合约。如果这次交易失败了，那就增加到三个，如果继续失败了，那就增加到四个，再失败，再增加。在每次交易失败的时候，就多投入一个申报单位。同样的道理，如果你这次交易成功了，那下一次交易就减少一个申报单位。例如，你连续交易失败了三次，在你第四次交易的时候，就应该交易四份合约。而如果你交易成功了，下次交易你就交易两份合约。</p>
<p>你肯定不会希望这一连串数字一直这么运行下去。一旦你三次交易失败的亏损补回来了，或者在三次交易失败和这次交易成功的过程中亏损的钱都补回来了，你就需要停止这轮交易，然后回到一份合约的时候。以下是我在实际操作中的一个例子：</p>
<p>这情景很有趣。注意，我们在这轮市场交易的情况其实很糟糕。8次交易中只有2次是获利的。如果不进行资金管理，我们会亏损1582美元。而如果采用了我之前所教的资金管理技巧，我们最后则盈利1534美元。在很多系统中我都采用了这一方法，而我也发现了这是经过打磨的最好交易方法，尤其适用于那些正确率大概在40%左右的系统。</p>
<p>最常见的错误</p>
<p>我所见到的商人们在投机活动中最常见的错误如下：马丁格尔策略。这里就有一个我也曾经玩过的一个生动例子。每亏损一次交易，那么你就以你上次交易合约数量的两倍交易。如果你有1个合约在交易时赔了，下次你就做2个合约。再赔，你增加到4个。还赔，就做8个。然后16，32，甚至64个。</p>
<p>亲爱的读者，我只告诉你，我玩过这个游戏，它是最危险、最惊悚和最具挑战性的游戏，而且是一种市场交易的病态行为。</p>
<p>首先，我们中的大多数人都没有这么多钱去赶时髦。其次，即使我们这么做了，你在你的64个合约里最终有一个盈利的可能只是几美分的利润，根本不够弥补你以前的损失。再简单不过的是，大多数人无法掌控这样做所带来的巨大创伤和心理压力。另外，这样做也需要大量的资金或慷慨的银行家帮你完成此类交易。</p>
<p>我见到的另一个常见错误是，交易者在盈利后增加了对市场的保证金。</p>
<p>我是一个持相反观点的伟大信徒，对任何情况都持相反意见的信徒。无论何时，当状况真正对你有利时，就是你应该警惕和小心的时候。繁荣即灾难。</p>
<p>灾难是繁荣的起点。一旦你的权益增加，你将马上做更多的合约交易，我对这种资金管理体系是有疑问的。记住，你的权益增加的事实只有一个，那就是你的体系是极其成功。就我对此的经验，就在你得到时，它就开始悄悄地溜走了。出于同样的原因，我的发现是，极端的盈利就是失败。一旦我的体系不正常并且我不再赚钱时，我就会扑向市场，因为，这正是摇摆不定的状态回到其正常形态的时候。<br>总结——如何在商品期货交易中永不失败</p>
<p>为了方便论证，我将假定你有一个至少有一半时间都正常的系统。目前市场上已有很多这样的系统。我还要假定，该系统在未来一半的时间将会继续保持正常，正如过去那样保持利润大于损失。</p>
<p>如果你有这样一个系统（甚至有很多更好的结果），那么你将不会在商品期货交易中失败。如何呢？<br>首先，我设定你有权决定特定商品期货交易系统所取得的最大权益回报。我们说最大的回报，最差的表现是在它扭转颓势、权益再创新高之前，系统损失12000美元。我会把这个数字乘以150%，这就意味着你必须增加足够18000美元的权益来进行商品期货交易。比如说，商品期货的保证金是5000美元。使用该系统你总共需要23000美元来交易一份商品期货合约。</p>
<p>我会继续在那一个合约的基础上进行交易，直到你拥有18000美元的利润。在这种情况下，你可以对市场追加双倍保证金，从而以两份合约开始交易。当你一旦又创造了另一个18000美元的利润，那么你就可以开始交易三份合约。这样做直到在你不得已增加资本额来渡过难关的时候，提高你对市场的保证金。请注意，只有在你赢了之后，你才会在市场艰难的时候按比例增加你自愿投入市场的基本保证金。<br>我相信，这是可以成功地增加对市场基本保证金的唯一方法。有很多系统会提示，你一赚到10-15-20或30%的资金就应该增加你对市场的基本保证金。也许甚至是100%的利润。我认为这是一个完全不相关的无用数据。唯一的相关数据就是当你已经取得了足够的资本度过最糟糕的金融风暴时增加你对市场的保证金。然后你就是用养家的钱在玩，如果伴随那场风暴，那么你将很容易看到损失的是他们的钱而不是你的。</p>
<p>事实上都是你的钱。你挣了这些钱。做交易是最难的一种谋生方式。尽管如此，你度过金融风暴时的缓冲垫在某种意义上就是“他们的金钱”吗？我建议你不要开始增加你对市场的保证金，直到他们已给你提供大量的资金支持。我有意选择了资金减少最低值的150%的数字。这个系统可能会陷入更坏的权益贬值之中，但是我无法想象一个拥有高于迄今为止权益贬值最坏状况50%的系统。</p>
<p>你的系统多久能使资金翻一番？</p>
<p>你可能感兴趣的是，需要多长时间使你的资金翻番。下面的另一个公式会告诉你答案。</p>
<p>你需要做的是将你的系统在很长一段时间内通过大量交易获取的所有利润相除。我会建议你用5年的时间，这中间不包括那些异常的市场状况，比如1980年失控的白银牛市。</p>
<p>那么，你将会得到一个代表每笔交易获取的平均额数据，无论这笔交易是成功还是失败。请记住你把总交易额除以总的净利润。举个例子，假如平均每笔交易赚175.00美元，你需要一个23000美元的账户，因为你知道，最坏的资金贬值是18000美元，利润是5000美元，然后你要把175.00美元除以23000美元，得出的结果会告诉你，大约在完成130次交易之后你原有的23000美元会翻一番。然后你应该确定你的系统交易的频率。如果这个系统一年交易60次，那么大约在两年之后你的资金才会翻一番。</p>
<p>这听起来也许不像世界上最绝妙的事情。但是，如果你按照我列出的方式来进行博弈，那么你基本上就是在一个无风险基础上进行商品期货交易。你将会有98%或99%的机会从市场中脱颖而出，不仅仅成为一个胜利者，而且会成为一个没有几个商品期货交易者能做到的资金翻一番的赢家。当然他们也梦想这样，但他们做到了吗？他们没有！</p>
<p>商品期货交易者，尤其是资产组合投资管理者犯的最后一个错误，通常都是基于这样的假设：在你的投资组合和交易工具中有越多的商品数量，你的表现就越稳定，进而你的表现也会如希望的那样更好。</p>
<p>我想不到还有谁比弗雷德能更好地举例证明这一点。他反过来引用的一个康奈尔的研究表明：不幸的是，每个额外的商品数量都会大大降低投资组合的风险。</p>
<p>事实上，弗雷德说，“不论你的投资组合有多大，可避免的总风险降低值都不能低于这个投资组合的相关性系数”。弗雷德的基本观点是，既然每个商品的相关系数是一样的，因此投资组合的总风险不会超过单个商品的风险。</p>
<p>按照弗雷德的思维方式，“几乎没有理由将业务拓展至两个或三个商品。”</p>
<p>弗雷德可以通过各种统计表和数学公式证明这一点，坦白地说，这是我不曾想到的。</p>
<p>我的验证来自于实际的交易市场。从某种意义上说，在我的印象里，如果你有一篮子商品，比如说10个或者更多，这将几乎不可能是赔钱的交易，因为当一些在赔钱的时候，另外一些就会赚钱。</p>
<p>但是，我的实际市场经验表明，所有人在同一时间赔钱是可能的！它确实会发生。它是令人痛苦的，请相信我。虽然我并不是足够聪明可以找出所有的弗雷德公式来证明这种痛苦，但是它告诉我的底线是，弗雷德是正确的。我的结果表明，在投资组合中仅仅增加商品的数量并不是快速成功的方法。</p>
<p>明智的投资组合多样化包括添加不相关的商品。例如，添加猪腩、大豆和白银要比白银、黄金、债券和国债更有意义。</p>
<p>到目前为止，我交易最好的一年是1987年，在不到12个月的时间里，我的交易从10000美元上升到超过10000000元。在那段时间里，我主要是依靠两种商品期货交易和我以上所说的资金管理方法。我希望你能复制我的成功。</p>

      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/期货交易准则/" rel="tag"># 期货交易准则</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2021/04/11/第19章-抓住超级行情的激动/" rel="next" title="第19章 抓住超级行情的激动">
                <i class="fa fa-chevron-left"></i> 第19章 抓住超级行情的激动
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2021/04/15/第八章-日内交易艺术：工具、技巧和盈利系统/" rel="prev" title="第八章 日内交易艺术：工具、技巧和盈利系统">
                第八章 日内交易艺术：工具、技巧和盈利系统 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="CheBin">
            
              <p class="site-author-name" itemprop="name">CheBin</p>
              <div class="site-description motion-element" itemprop="description">放弃会成为一种习惯</div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">290</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">13</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">38</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          

          

          
          


          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <!-- modify icon to fire by szw -->
                <i class="fa fa-history fa-" aria-hidden="true"></i>
                近期文章
              </div>
              <ul class="links-of-blogroll-list">
                
                
                  <li>
                    <a href="/2021/05/13/初入币圈，小白需要注意的四个问题/" title="初入币圈，小白需要注意的四个问题" target="_blank">初入币圈，小白需要注意的四个问题</a>
                  </li>
                
                  <li>
                    <a href="/2021/05/11/合约1分钟，少打10年工/" title="合约1分钟，少打10年工" target="_blank">合约1分钟，少打10年工</a>
                  </li>
                
                  <li>
                    <a href="/2021/05/10/第六章-DeFi投资入门/" title="第六章 DeFi投资入门" target="_blank">第六章 DeFi投资入门</a>
                  </li>
                
                  <li>
                    <a href="/2021/05/10/第一章-DeFi简介/" title="第一章 DeFi简介" target="_blank">第一章 DeFi简介</a>
                  </li>
                
                  <li>
                    <a href="/2021/05/06/什么是DeFi？/" title="什么是DeFi？" target="_blank">什么是DeFi？</a>
                  </li>
                
              </ul>
            </div>
        

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#资金管理方法"><span class="nav-number">1.</span> <span class="nav-text">资金管理方法</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#资金翻番的可能性"><span class="nav-number">2.</span> <span class="nav-text">资金翻番的可能性</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#建立资金管理模式"><span class="nav-number">3.</span> <span class="nav-text">建立资金管理模式</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#硬币的另一面"><span class="nav-number">4.</span> <span class="nav-text">硬币的另一面</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#我的运作规则"><span class="nav-number">5.</span> <span class="nav-text">我的运作规则</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#资金管理的第二种方式"><span class="nav-number">6.</span> <span class="nav-text">资金管理的第二种方式</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#一增一减"><span class="nav-number">7.</span> <span class="nav-text">一增一减</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#资金管理的实际应用"><span class="nav-number">8.</span> <span class="nav-text">资金管理的实际应用</span></a></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2018 – <span itemprop="copyrightYear">2021</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">CheBin</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">站点总字数：</span>
    
    <span title="站点总字数">2.5m</span>
  

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    
    <span title="站点阅读时长">38:35</span>
  
</div>


  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a></div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=7.0.1"></script>

  <script src="/js/src/motion.js?v=7.0.1"></script>



  
  


  <script src="/js/src/affix.js?v=7.0.1"></script>

  <script src="/js/src/schemes/pisces.js?v=7.0.1"></script>



  
  <script src="/js/src/scrollspy.js?v=7.0.1"></script>
<script src="/js/src/post-details.js?v=7.0.1"></script>



  


  <script src="/js/src/next-boot.js?v=7.0.1"></script>


  

  

  

  


  


  
  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  
  

  
  

  


  

  

  

  

  

  

  

  

  
<script>
  $('.highlight').each(function(i, e) {
    var $wrap = $('<div>').addClass('highlight-wrap');
    $(e).after($wrap);
    $wrap.append($('<button>').addClass('copy-btn').append('复制').on('click', function(e) {
      var code = $(this).parent().find('.code').find('.line').map(function(i, e) {
        return $(e).text();
      }).toArray().join('\n');
      var ta = document.createElement('textarea');
      var yPosition = window.pageYOffset || document.documentElement.scrollTop;
      ta.style.top = yPosition + 'px'; // Prevent page scroll
      ta.style.position = 'absolute';
      ta.style.opacity = '0';
      ta.readOnly = true;
      ta.value = code;
      document.body.appendChild(ta);
      ta.select();
      ta.setSelectionRange(0, code.length);
      ta.readOnly = false;
      var result = document.execCommand('copy');
      
        if (result) $(this).text('复制成功');
        else $(this).text('复制失败');
      
      ta.blur(); // For iOS
      $(this).blur();
    })).on('mouseleave', function(e) {
      var $b = $(this).find('.copy-btn');
      setTimeout(function() {
        $b.text('复制');
      }, 300);
    }).append(e);
  })
</script>


  

  

</body>
</html>
