<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">




  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2">





















<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.0.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico?v=7.0.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.0.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.0.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '7.0.1',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="思考并回答以下问题：  总结一下，这章作者最主要想表达什么观点？">
<meta name="keywords" content="期货交易准则">
<meta property="og:type" content="article">
<meta property="og:title" content="第八章 日内交易艺术：工具、技巧和盈利系统">
<meta property="og:url" content="http://yoursite.com/2021/04/15/第八章-日内交易艺术：工具、技巧和盈利系统/index.html">
<meta property="og:site_name" content="车斌的技术博客">
<meta property="og:description" content="思考并回答以下问题：  总结一下，这章作者最主要想表达什么观点？">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2021-04-15T03:52:21.303Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="第八章 日内交易艺术：工具、技巧和盈利系统">
<meta name="twitter:description" content="思考并回答以下问题：  总结一下，这章作者最主要想表达什么观点？">






  <link rel="canonical" href="http://yoursite.com/2021/04/15/第八章-日内交易艺术：工具、技巧和盈利系统/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>第八章 日内交易艺术：工具、技巧和盈利系统 | 车斌的技术博客</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">车斌的技术博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">专注</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>关于</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>搜索</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/04/15/第八章-日内交易艺术：工具、技巧和盈利系统/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="CheBin">
      <meta itemprop="description" content="放弃会成为一种习惯">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="车斌的技术博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">第八章 日内交易艺术：工具、技巧和盈利系统

              
            
          </h1>
        

        <div class="post-meta">

          

          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2021-04-15 11:21:05 / 修改时间：11:52:21" itemprop="dateCreated datePublished" datetime="2021-04-15T11:21:05+08:00">2021-04-15</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/期货/" itemprop="url" rel="index"><span itemprop="name">期货</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">本文字数：</span>
                
                <span title="本文字数">22k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">20 分钟</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>思考并回答以下问题：</p>
<ul>
<li>总结一下，这章作者最主要想表达什么观点？</li>
</ul>
<a id="more"></a>
<p>接下来是我1985年7月在某个为时4小时讲授日内交易的研讨会上的演讲稿。</p>
<p>研讨会参会者都学到了一种有关日内交易标准普尔500指数和价值线指数的特别方法，这种方法在实时交易中十分有利可盈。这个系统过去很有用，现在也一样有用。</p>
<p>但愿，这一章节不仅能让读者了解到市场在较短期波动时如何运作，而且能介绍给读者一个他们在自己的交易中可使用的可靠日内交易系统。我也会给你提供一些电脑打印材料，电脑打印材料是有关这个系统在标准普尔500指数合约上市后主力合约到期月是如何表现的。</p>
<p>这一章节也许读起来有些费力，因为，别忘了，这本来就不是为阅读而写的。文章被编辑过，以便能更容易被理解。</p>
<p>在我的演讲中，有很多人提问，这些问题也被记录在手稿中了。其中一些相同的疑问可能也存在你的脑海中。但愿能给你满意的答案。<br>最好的消息，也是最重大的消息，就是有在日内交易挣到钱的可能。我曾经教过其他一些人进行日内交易，他们也进入市场，依靠我们的日内交易方法论挣到了钱。我们曾经有在实时交易中月平均利润超过2000美元的日内交易热线，不过现在已经不用了。</p>
<p>移动平均线上的。它的理论是如果在一个市场阶段内，一个三天的移动平均线超过了一个七天的移动平均线，那么你就可以买入了。在短期内它曾是管用的，不过也仅限于此了。</p>
<p>传统的移动平均线方法会告诉你，当价格突破了一个移动平均线，你就要买人，如果跌落于移动平均线，你就要卖出。当你处于一个趋势市场上，这个方法看起来就挺合理的，但是市场并不总是具有充分趋势的。</p>
<p>你不仅仅是得到了太多频繁的信号，而且在现实中，你的填补只会把你的交易搞得更糟，因为实在是有太多失误了。若仅仅是它登在图表上，或者仅仅因为这个价格印在《华尔街日报》上，你一秒都不要相信你能得到那个价格。失误是日内交易的重要部分。我想告诉你该如何规避失误。现在，你要注意有些东西真的不怎么管用，那就是移动平均线。移动平均线能给你带来多少机会，也就能带来多少错误。有趣的是，大约在1957年，芝加哥大学曾做过一项研究。他们研究了很多股票价格的移动平均线，最后得出的结论是，一个能够赚钱的市场是无法发展出始终一致的移动平均线的。换句话说就是，一直使用同一种或者同两种移动平均线是赚不到钱的。回溯到1967-1968年间，当我拿到了股市商情报告书《威廉报告》，我也做了相似的研究。我们研究了那段时间内的股票和商品，得出了相同的结论。我有各种来自斯坦福大学的聪明家伙来帮我搞这项研究。然而根据那个总使用相同移动平均线参数的股市和商品的方法，我们也没能建立出一个成功的趋势。</p>
<p>另一个因为登上了《商品报价图表》而出名的方法是抛物线。抛物线指数理论是威尔斯·维尔德研究开发的，对日基础上的交易可能有些价值。但是若说在日内，或者说日内交易基础上，我没有看出任何价值。抛物线方法的问题是，当然我在此并不是对这个方法进行贬低，而是尽力向你们解释，它问题仅仅是在日内交易的基础上，等到市场已经活动，开始有所反应，你的人场和出场间的距离已经太大了。相应地，你也不会挣到钱。如果你正好醉心于我提到的这些，并且市场还没有让你警醒，在采用抛物线法时千万要多加小心。</p>
<p>移动平均线上的。它的理论是如果在一个市场阶段内，一个三天的移动平均线超过了一个七天的移动平均线，那么你就可以买入了。在短期内它曾是管用的，不过也仅限于此了。</p>
<p>传统的移动平均线方法会告诉你，当价格突破了一个移动平均线，你就要买人，如果跌落于移动平均线，你就要卖出。当你处于一个趋势市场上，这个方法看起来就挺合理的，但是市场并不总是具有充分趋势的。</p>
<p>你不仅仅是得到了太多频繁的信号，而且在现实中，你的填补只会把你的交易搞得更糟，因为实在是有太多失误了。若仅仅是它登在图表上，或者仅仅因为这个价格印在《华尔街日报》上，你一秒都不要相信你能得到那个价格。失误是日内交易的重要部分。我想告诉你该如何规避失误。现在，你要注意有些东西真的不怎么管用，那就是移动平均线。移动平均线能给你带来多少机会，也就能带来多少错误。有趣的是，大约在1957年，芝加哥大学曾做过一项研究。他们研究了很多股票价格的移动平均线，最后得出的结论是，一个能够赚钱的市场是无法发展出始终一致的移动平均线的。换句话说就是，一直使用同一种或者同两种移动平均线是赚不到钱的。回溯到1967-1968年间，当我拿到了股市商情报告书《威廉报告》，我也做了相似的研究。我们研究了那段时间内的股票和商品，得出了相同的结论。我有各种来自斯坦福大学的聪明家伙来帮我搞这项研究。然而根据那个总使用相同移动平均线参数的股市和商品的方法，我们也没能建立出一个成功的趋势。</p>
<p>另一个因为登上了《商品报价图表》而出名的方法是抛物线。抛物线指数理论是威尔斯·维尔德研究开发的，对日基础上的交易可能有些价值。但是若说在日内，或者说日内交易基础上，我没有看出任何价值。抛物线方法的问题是，当然我在此并不是对这个方法进行贬低，而是尽力向你们解释，它问题仅仅是在日内交易的基础上，等到市场已经活动，开始有所反应，你的人场和出场间的距离已经太大了。相应地，你也不会挣到钱。如果你正好醉心于我提到的这些，并且市场还没有让你警醒，在采用抛物线法时千万要多加小心。</p>
<p>你有可能成功，也有可能失败。有人可能会问了： “拉瑞，这是个交易波幅狭窄起伏的市场，让我们去研究个波幅更宽的市场吧。”标准普尔500指数正好就是这样的市场。（注意：在此有可视图表展现给听众）。我们曾在市场上运行良好，让我们看看它在市场上是如何表现的。你大略看去，虽然我们曾在市场上运行良好，但是我们在大约10次或11次交易中，只有2或3次成功的交易。所以它对日内交易并不管用。在一个时间段较长的趋势交易中，它可能对你有极大的帮助价值，但是对于日内交易来说，我们还是把这个方法给排除掉吧。<br>日内交易的一个非常古老的方法仅仅就是买入突破。当市场即将启动，即将打破一个支撑/阻力水平时，你可以买入。<br>记录表明，这个方法只作用于买入突破，对于下降趋势或上涨趋势，作用并不那么良好。<br>你们中有多少人实际进行日内交易？你们中有多少从来没有进行过日内交易？日内交易是所有人都愿意进行的，但是鲜有人知道如何操作。我见过的日内交易系统里都有些逻辑问题。最大的逻辑问题就是这些系统不知道该在市场的哪一边进行交易。大部分日内交易系统都试图在一天中进行大量交易。我要告诉你的就是如果你打算成为买家或者卖家，该如何做决定。这样的话，你就只进行仅有的一个交易。<br>基于一个我告诉你的准则，你准备在周一买入或者卖出。这个准则显示，大约60%的可能能表明当日市场会以上涨还是下降收盘。<br>传统常识告诉我们，在昨天最高点买入，在昨天最低点卖出。这可能在有些时候是对的，但我们的真实数据表明，在昨日最高点进行交易真的是表明市场超买，你可以就此得到一个好的卖出信号。很有意思的是，我发现在交易时最有困难的人往往是律师和医生，因为他们总是使用很强的逻辑系统，而不是普通日常逻辑。红灯停，绿灯行。<br>但在市场里，看上去坏的实际是好的，看上去是好的实际上是坏的。对于拥有逻辑文化背景的人，这十分难以理解。<br>好了，刚刚讲的那些就是不管用的东西。昨日的最高价和最低价、波<br>幅和突破。我还发现振荡器也不是那么管用。我曾一度对振荡器十分着迷，我准备向你们展示一个我发现还有些价值的振荡器。但是大部分情况来说，振荡器并不管用，这是因为它们是由时间和价格组成的。<br>你会遇到一种情况，价格没有变动，而时间在推进，振荡器就随之上下波动。看上去像是一个购买信号，但事实上却没有任何价格的变动。<br>价格没有改变，然而振荡器在波动，你就以为自己有了购买信号。振荡器另外的问题在于，一个10分钟的振荡器只能操作10分钟的动态。一个10天的移动平均线只能捕捉10天的动态。你捕捉不到30或者40天的大动态。一个30天的振荡器只能捕捉30天的动态。它捕捉不到在市场十分有爆炸性的头5天或者头10天的动态。</p>
<p>有用的振荡器</p>
<p>我有关振荡器的经历告诉我，它们通常十分吸引人，但是你可能不想只靠它进行交易。有些工具可以用在振荡器上，我想把它们介绍给你。有一个我们可以建立的工具就是将两个振荡器组合在一起，叫双重振荡器。将一个有5条最高价、最低价、收盘价的移动平均线的振荡器和一个有20条最高价、最低价、收盘价的移动平均线的振荡器建立在一起。我们要做的就是取这5条移动平均线和20条平均线之间的差异。事实上将会发生的是，当一条线超过另一条线，当短期周期穿过并高于长期周期，我们就有了买入信号。当你获得大跳空下跌开盘价或者大跳空上涨开盘价，而你又搭上开盘价，这种方法很好用。你跳空低开，就马上知道不会再走得更低了。<br>你搭上这个购买信号，直到你达到最高点。反弹何时结束？当我们达到顶端之后就开始下降。这是一种工具，而非一种系统。你不能在上面每个交叉处都进行交易。这是个主观性的工具，但是却是个好工具。<br>只存在两种日内交易者，动作快的和玩完的。如果你动作不够快，就会玩完了。他们不会让你玩这个游戏太久。你要学会在这些信号出现的时<br>候，迅速做出反应。两个势头强劲的时期互相交叉是我从1966年开始一直在研究的。我曾把它用在股市周数据上。当我拿到我的《商品报价图表》，开始胡乱摆弄这个，误打误撞就开始用上了。我不太确定这些事实上是不是真是绝佳的时期。我仍然在玩这个，但是它们是目前我能告诉你的最好的东西了。帮你处理市场的动荡和流量，它是个不错的工具。</p>
<p>你看，引起这些信号的是短期势头突破了长期势头，这就是买入信号了。卖出信号则是短期势头跌破了长期势头。不需要达到某种超买或者超卖情况。然而我们发现，最佳信号出现在你到达40%或50%区间的时候。你获得的交叉要比0水平附近的交叉更重要。</p>
<p>在坏信号中挑出好信号</p>
<p>有一种东西能帮助到日内交易者，就是有60%的可能知道明天是否会上涨收盘的能力。那么你可以只接受买入信号。我之后会告诉你一些方法。这可能和过滤器或者你能拿到的任何东西一样好用。你可能还会想，如果相反的判定增加，是否要接受买入信号。如果正在下降，那么你可能只对接收卖出信号感兴趣。我觉得那可以帮你挑出些好的信号。问：你在日内交易中使用背离吗？<br>答：我在自己的日内交易系统中不使用背离。我会研究一些东西，然后说： “哦，我们在此有许多背离”。更高的最高价相当于行情看涨的情况。我会观察并注意到它。我回想起曾在一个猪腩熊市时买入背离。我买入是因为有背离。背离太多了，多到我在猪腩上损失了大约10-15美分。一直这么下去，有的就是据估计会看涨的背离，而我正抓着一个掉落的匕首。现在我等着掉落的匕首停止并插入地面。当它停止震颤，我会把它捡起来。<br>仅有背离是不够的。看起来你在那一无所获而且碰壁!单是背离，就能把你灭了。在那可能是个好信号，但仅仅依靠它，出现什么都保证不了。<br>让我们谈谈管用的东西吧</p>
<p>我不想做那种消极的人，说什么都不管用。在市场里有些东西是管用的。就说官方记录吧，可以让你知道通过日内交易是可以赚到钱的。1985年2月，我在爱普斯坦经纪公司一个2000美元的账户上开始日内交易。他们可以证实此事。这个2000美元的账户，没有再注入任何资金，在三个月内增加到37900美元。这个账户中几乎每天的交易都是日内交易，尽管我也曾持有几个过夜头寸（我将胜利者带回家过夜）。我说这个的原因可不是为了炫耀自己，只是为了让你知道，事实上你们也可以通过日内交易挣到钱。很多人，包括我自己，过去都曾认为日内交易是挣不到钱的。我对此深信了很久很久，但现在再也不信了。我的经历告诉我的就是，事实上你们也可以通过日内交易挣到钱。<br>但要这么做，你得知道什么是管用的。市场中有些我们已经能够分析的模式，更好地告诉我们市场是要力图反弹还是下跌。我会向你展示其中几个模式是什么样的。<br>易。我也绘制出了4天的模式。不管是什么模式，你都可以查看这个模式图表，获知明天上升和下降的可能性。你现在对市场的把握已经超过其他人了。市场自身的结构会告诉你将要发生什么。例如，在本周四，我们得出周五下跌收盘的可能性是40%，我们确实迎来了下跌收盘，而在价值线指数上，我们有45%下跌收盘的可能，我们也迎来了下跌收盘。你们中有多少人看过FNN？在FNN上，你会偶尔听到我说我们今天有60%上涨收盘的可能性。如果你曾怀疑我是从哪得出的这个数据，那么我告诉你就是从这些表格上得出的。这些表格，是为感兴趣的人而制作的，包括了标准普尔500指数和价值线指数交易的所有数据，还有过去5年在国债、猪腩、大豆和白银交易上的数据，所以这是用来研究这些模式的绝佳数据库。<br>如果大豆那一栏的数字是37，那么意味着我们只有37%上涨收盘的可能性，意味着我们有很大可能性是下跌收盘。从100中减去那个百分数就得出了下跌收盘的可能性。我还在图表上补充了5日模式。布鲁斯·巴布科研发了一种系统只用到3日或4日模式。这种系统只用到在实践中效果较好的模式。<br>我们只针对那些会对我们有好处的日子，具有高可能性的日子。<br>我们总有这种印象，有些事情明天就要发生，不管它是什么，它不可能明天就发生，一年中只发生3或4次。但是因为我们打开观看了FNN，阅读了《华尔街日报》，订阅了我的商品信息或者其他人的商品信息，我们对明天就兴奋不已。当我刚开始进行期货交易的时候，我以为1929年的那种大萧条就要开始了。经纪公司的那些老家伙要把我吓死了。我当时特别紧张，这种紧张感持续了四五年。我以前还觉得它会发生在……现在。现在，它确实发生了。<br>我会向你介绍何时萧条会发生。你的时间还长，现在不需要担心。记得我们用模式分析做了什么吗？在过去的日子里，当我们刚开始交易这些东西，我们说头肩底、扇形、楔形等形状，那看起来像是个买入信号。<br>事实上，我记得一个曾在现已不存在的经纪公司工作的分析师说，他得到了买入信号，因为他有了平行复式突破!<br>易。我也绘制出了4天的模式。不管是什么模式，你都可以查看这个模式图表，获知明天上升和下降的可能性。你现在对市场的把握已经超过其他人了。市场自身的结构会告诉你将要发生什么。例如，在本周四，我们得出周五下跌收盘的可能性是40%，我们确实迎来了下跌收盘，而在价值线指数上，我们有45%下跌收盘的可能，我们也迎来了下跌收盘。你们中有多少人看过FNN？在FNN上，你会偶尔听到我说我们今天有60%上涨收盘的可能性。如果你曾怀疑我是从哪得出的这个数据，那么我告诉你就是从这些表格上得出的。这些表格，是为感兴趣的人而制作的，包括了标准普尔500指数和价值线指数交易的所有数据，还有过去5年在国债、猪腩、大豆和白银交易上的数据，所以这是用来研究这些模式的绝佳数据库。<br>如果大豆那一栏的数字是37，那么意味着我们只有37%上涨收盘的可能性，意味着我们有很大可能性是下跌收盘。从100中减去那个百分数就得出了下跌收盘的可能性。我还在图表上补充了5日模式。布鲁斯·巴布科研发了一种系统只用到3日或4日模式。这种系统只用到在实践中效果较好的模式。<br>我们只针对那些会对我们有好处的日子，具有高可能性的日子。<br>我们总有这种印象，有些事情明天就要发生，不管它是什么，它不可能明天就发生，一年中只发生3或4次。但是因为我们打开观看了FNN，阅读了《华尔街日报》，订阅了我的商品信息或者其他人的商品信息，我们对明天就兴奋不已。当我刚开始进行期货交易的时候，我以为1929年的那种大萧条就要开始了。经纪公司的那些老家伙要把我吓死了。我当时特别紧张，这种紧张感持续了四五年。我以前还觉得它会发生在……现在。现在，它确实发生了。<br>我会向你介绍何时萧条会发生。你的时间还长，现在不需要担心。记得我们用模式分析做了什么吗？在过去的日子里，当我们刚开始交易这些东西，我们说头肩底、扇形、楔形等形状，那看起来像是个买入信号。<br>事实上，我记得一个曾在现已不存在的经纪公司工作的分析师说，他得到了买入信号，因为他有了平行复式突破!<br>我是一个来自蒙大纳州比灵斯市的孩子。复式建筑我想你们都住过。我从没听说过有人能够解释“平行复式突破”这个词。我想知道他到底在说什么。我们在这个市场上谈到的术语是不同寻常的。我不知道你们是否碰巧看过乔·格兰威勒和泰德·考普勒的谈话。考普勒只是摇头，因为格兰威勒一直在用我们的词汇，一种我们拥有的完全不同的行话。普通人是无法理解我们的语言的。<br>还有其他事情可做，能让我们来了解市场。我现在就向你们介绍其中之一。我能告诉你有关日内交易最重要的事情，不是别的，就是这个：如果今日的收盘价高于昨日的收盘价，那么明日就卖出。如果今日的收盘价低于昨日的收盘价，那么明日你就买入。上涨收盘引出下跌收盘。下跌收盘引出上涨收盘。威廉姆斯过夜公式<br>看这里的数字。已知是下跌收盘，第二天有55%的可能性会改变方向。<br>在黄金的例子里，如果你今天在黄金上是上涨收盘，那么你有62%或63%的可能明日会收盘走低。如果你明天在黄金上收盘走低，那么有60%的可能你会有个走高收盘。黄金是这些中最坚挺的。这就是你需要一个好的日内交易系统的背景!<br>事实上，让我给你些数字来支持这个理论。交易标准普尔500指数和价值线指数，只交易1个合约，而不是5个或10个。每一次你遇到下跌收盘，你就在第二天早上买入开盘。设置200点止损，或者在收盘退出。如果你遇到上涨收盘，那么在早上卖出开盘，设置200点止损，在收盘时退出。从标准普尔500指数自1982年开始交易起，你会挣得大约180000美元。你要等上两年半来获得这些钱，但这可是一笔不菲的薪水。再说一次，遇到下跌收盘，你就买入开盘，遇到上涨收盘，你就卖出开盘。设置200点止损，在收盘时退出。如果你这么做，你就会挣得一大笔钱。<br>没有人可以碰巧做到这样。我试着这么做，但是权益下降太飘忽不定。不过，如果你有一大笔资金-你每个合约上都需要20， 000美元—你就能做到。你会接连遇到七八次赔钱的交易。我不觉得一个日内交<br>易者会连续3次亏损。如果出现连续3次亏损，他们就会寻找新的系统，或者更新他们的房产证，登上旅行车，踏入新的商业历程。我刚告诉你的方法有连续11个亏损，是大部分交易者可以承受的3倍。<br>我认为可能发生的是，公众回到家并且读了《华尔街日报》、《纽约时报》或《洛杉矶时报》，他们读到黄金当天会涨，就会觉得黄金会看涨。公众，作为一群交易者，觉得黄金很坚挺。像我之前提到过的，市场上的逻辑是反着的。坚挺就是疲软。这就是我觉得一个上涨收盘很重要的原因。它驱动着公众去做特定的事情。<br>专业人士可能采取相反的行动。当然记录也显示事实正是如此。那么现在让我们研究一下这个问题，如果当天价格低走收盘，并且低于开盘，之后第二天也低开，那么那一天高开的可能性是多少？<br>如果你停下来并逻辑性地思考这个问题（逻辑会在市场上灭了你的），你会觉得市场将继续走低，尤其是从低开之后，而你的经纪人说它会低开，所以你卖出了你的多头。57%的可能，那就是几乎60%了，价格高于开盘价收盘。这就是交易中极大的不同寻常。如果正在下降的话， 57%的可能会高价收盘。如果正上涨， 57%的可能会下降。在一个上涨趋势中，你在价值线指数上逆转的可能性是59%，国债上是58%， 白银上57%，而猪腩和大豆大约是50%。这是你进入一个日内交易系统的第一步。这就是所有的信息了。<br>问：问题是，这个可以用在涨停上吗？<br>答：是的。电脑研究了所有5年的数据，有涨停、跌停，还有各种情况，都可以适用。<br>问：周一在标准普尔500指数有潜在买入信号，是因为它在周五下降了吗？<br>答：是的，按开盘买入法，你应该在开盘时买人，但是再说一次，没人可以这样交易。就净美元利润来说，标准普尔500指数在日内交易系统中是最好的。可以挣到很多钱，但是我觉得没人可以这样去做。<br>这个系统的魅力在于，你已经有了方向。记得我说过大部分日内交易<br>者都有的问题，他们不知道该做什么。市场开盘的时候，我们还睡眼惺忪，尤其是在加利福尼亚，瑞士法郎早上5： 20开盘。<br>你起床了，意识还不完全清醒，你不知道该买入还是卖出，所以你在当日买入卖出三四次。别忘了，要交手续费的，你不能这么做。一天一笔趋势交易就够了，而你现在已经知道交易的方向了。<br>你们中有些人把目光投向振荡器，要求用振荡器过滤信息。如果今日上涨，那么你可以只用振荡器，或者其他你正在使用的工具，来寻找卖出信号。如果你愿意，你可以开始将这些材料和你的旧系统结合起来。<br>在你进行了一些日内交易后，我知道你们身上会发生什么，你会买入头寸，在当日收盘附近你会盈利，并说“嗨，我要把这个宝贝带回家，我要把它带回家给我的妻子孩子看看，首先来说他们还没见过这么多的”。第二天早上，它会低开，你会说“我为什么要把它带回家，为什么我没在收盘的时候抛出，像拉瑞说的那样做一个日内交易者呢？”</p>
<p>如果你真的要把头寸带回家中，那么我会给你一个公式用来将头寸带回家中。如果公式说可以过夜持有，你就可以。只要公式说不要过夜持有，那就别这么做。这个公式我在大约18年前的书籍《交易密码-如何选择股票》中就提到过。这个公式研究的是买入和卖出。我们要将最高价减去开盘价，要取收盘价减去最低价。将这两个数字加在一起的值叫做A，我们还要用最高价减去最低价，并把这个数字叫做B。我们用A除以B，就会得到一个百分数。这就是公式，但是在使用它之前，我要向你介绍些东西。<br>当我谈论到真正最高价或真正最低价的时候，有多少人能理解我的意思？到现在你们中没有举手的人，已经错过了所有15%的市场活动。还请你们耐心一些，我会在这里给你个小公式的。市场上有15%是你甚至都闻所未闻的。那是市场很重要的部分。这里有个例子：昨日收盘为61，你打<br>电话给你的经纪人，他说最高价是68，最低价是63，在66处收盘。请想上一分钟。61变成63是怎么回事？这中间的两个基点发生了什么？我们需要思考一下这两个基点。他们去哪了？价格确实是从61变化到63，不是吗？这就是他们中间的差距。最低价（当天出现的第一个价格）可能是63，那是开盘低价，图表报价或华尔街日报价都是63，但真正最低价是61<br>那么61变成了63是怎么回事？真的是从61开始交易的吗？那是前一天收盘的最后价格。61是真正最低价。一直以来，你们都在使用63这个价格。真正最低价其实是61。真正最高价情况也一样。我会给你一个公式，你可以记下用来计算真正最高价和真正最低价：真正的最高价是所有数值更大的昨日收盘价或今日开盘高价。真正最低价就是数值更小的昨日收盘价或今日开盘低价。这就是公式。你能使用真正波幅是非常重要的。就好像你有一台收音机，你开始调节一个频道，声音逐渐平稳，变得越来越清晰。这能让你在市场上获得一些启示。这会剔除很多你脑海中正在考虑的基点。市场上只有这些是关键基点。<br>好了，现在我们明白真正最高价和真正最低价了。使用真正最高价和真正最低价，我们可以回到有关隔夜的公式上。我们要从开盘价减去最高价，收盘价减去最低价，得出的就是真正最高价和真正最低价。你要用真正最高价减去真正最低价来计算出A和B，用A除以B，得到一个百分比。我要给你一个例子。让我们假设已经卖出了周四的标准普尔500指数。周四开盘价是193.55，最高价为194.25，最低价192.65，稳定在193.95。开盘价、最高价、最低价和收盘价。现在你需要在收盘前5分钟或10分钟使用这个公式。你会知道我们的市场将在何处收盘。显然，我们不能在收盘以后才能使用，因为那时就太晚了，无法决定隔夜持有交易还是放弃。这之后你就可以决定是否持有过夜。在此基础上，我们会说，那么我们在这有什么呢？今天的最高价减去开盘价是355减去425等于-70，收盘价减去最低价， 265减去395等于130，加在一起等于200，这些都是真正最高价和真正最低价，所以425减去265等于160，用A除以B，得到<br>125%，我们是不是要持有多头？答案是不。如果我们卖出，如果价值是56%或者更低，我们就可以持有空头了。我们可以在市场收盘时就用公式计算。之后问问你自己：这个数字有多好？是我可以隔夜持有的数字吗，还是我不该隔夜持有的数字？我在每个计算中都用到真正的波幅数字。不然你会错过市场上15%的活动。你能想象出你从每10天中抽出一天半，假装它不存在吗？如果你订阅了一本图表书，只显示每10天中9天的信息，你不久就会取消订阅的。<br>规律就是，持有一个有56%或更低读数的空头，持有一个144%或更高读数的多头。只有20%的可能延期持有。<br>现在我要告诉你最后一件事：系统不会说市场将在开盘后一小时、两小时或15分钟后上涨。你要去参与开盘。它也不会说开盘会上涨多少。它只会说将上涨。我去年秋天在大豆上遇到一种情况，我在当天售出了大豆，运用那个公式，算出了一个真正好的价值，可以隔夜持有。我持有了，大豆开盘走低29点。我就说，糟糕!是不是要停板了？之后我又想了想，等等，这个隔夜公式告诉我要参与开盘，我就参与了开盘。大豆没有跌停，他们事实上那天几乎涨停!你可能会认为，它们还要走低一些，但它们没有。所以这是一个从收盘到开盘的隔夜公式。它不关乎开盘以后的任何事。如果你想在开盘后还继续持有，那就继续这么做吧。对我来说无所谓，我对此可不负责任。你，不是我。<br>我现在想和你谈谈预测。我想向你展示，当市场要到达顶部，或跌入底部时你该如何及时找到基点。如果你取从一个最高价到下一个最高价之间的区间（就是从一个最高价到一个最高价之间的天数），乘以1.28，然后把得出的结果从这两个最高价中间的最低价处向后延伸，那就是下一个最低价将要出现的地方。以此类推，如果我想知道下一个最高价在哪出现，我就取最低价到最低价，数出天数，乘以1.28，将乘积从中间的最高点处向后延伸。这就会告诉我下一个最高值大致会在哪里出现。这个公式可以用在5分钟图表、60分钟图表、日图表和小时图表上。这是你如何提前得知数个基点的神秘方法。公式可以用在任何时间框架上，周图表、日<br>图表都可以。但我觉得在5分钟图表和日图表上用得最好。再说一次，你要做的是，取一个最低价到一个最低价之间的天数，乘以1.28，从最高价处将结果向后延伸。取一个最高价到一个最高价之间的天数，乘以1.28，从最低价处把结果向后延伸。这对一些我认识的人来说有些让人困惑。问：这可靠吗？<br>答：可靠率有80%。<br>问：你给这个预测多少发挥空间？<br>答：每个真实交易的买入或卖出都可使用。<br>问：你用到最高价、最低价，还有收盘价吗？<br>答：事实上，我一直在用收盘高价，但不频繁，也不在5分钟图表上用。让我们看几个东西。我们现在要计算时间束。做这个工作有些枯燥，但我发现这是物有所值的。我在《商品期货交易择时》中说过， 6月19日，市场将跌入底部，我们有一个很好的最低价。可以买入。这里有没有《商品期货交易择时》的订阅者？你还记得我们说过6月19日的情况吗？我们提前约半个月讨论了那件事。我们得出了这个结论，通过取一个最高价到一个最高价之间的天数，也就是16天，乘以1.28等于19天。在第19天，我们在标准普尔500指数上得到了新低。如果你愿意，你可以查看一下你的图表。那是当月的第19天，正巧是当月19日，那是一个买入点。<br>问：当你的市场在日基础上正朝停板发展，你觉得它是不是就不太有作用了？<br>答：仍然有用。<br>问：这个是在所有图表上有用，还是在一些商品上比其他作用好？<br>答：在所有东西上都好用。畜产品、谷物都可以，我们昨晚在畜产品上研究了一个。<br>我不知道畜产品上发生了什么，但最后一个信号仅在最后一天被取消了。它通常被限定在一天之内。最低价出现在5月初。我们在之前的12月份就知道，并在年度预测里提到过，当年最低价，也是技术上的最低价，将出现在5月初。在这个时期中有许多记数点，我们可以回看那时要发生<br>什么。<br>如果你取得最低价到最低价之间的天数是18天， 18乘以1.28等于市场顶部区域的23天。总的来说，它会引起市场短期震荡。你可能偶尔会遇到我所谓的反转。让我们假设我们有一个市场到顶部的时间表，但是市场正在下降。我会期望一个反转，使市场在那点上反弹。那是唯一的例外。如果市场下降到应该是顶部的地方，那么它将会成为一个最低价。如果市场反弹到应该是最低价的地方，那么情况就导致到相反方向了。问：你要从哪天开始计算？答：第一天算作头一日。<br>问：你是不是说过这个可以用在任何条形图表，不管是5分钟的， 30分钟的，还是47分钟的？<br>答：我不知道什么是47分钟的条形图表，但是在其他图表上是可以用的。你会抓住这个时间周期的。<br>问：你曾经把它用在周图表上吗？<br>答：是的，回家自己用它在周图表上算算，你会发现大部分时间，你都能抓住市场上的最高价和最低价。再次声明，它是个工具。对你来说并不完美，但通常来说都会预测到何时会出现顶部和底部。<br>我会再简短向你介绍一个预测工具，可以预测美国经济和股市的走向。我们现在来说说这个日内交易方法。<br>让我们看一看另一种方法，这种方法在1951年到1952年间由在英国伦敦的《投资教育者》首次提出。这种预测的方法和我的1.28方法不同。他们基本上说的是，如果你将两个市场最高价间的时间乘以1.618，良好的斐波那契数，并将得出的值从第二个最高价处向后延伸，市场会在你得出的那个时间出现反转。如果你有20天，那么高峰后的16天你就会进入一个将迎来市场反转的时间。如果市场是在上升，那么就会下降。如果市场一直在下降，那么现在就会上升。<br>现在，在我们讲日内交易之前，我想向你展示更多有用的东西，能告诉你何时该买入或卖出。其中一个就是价值线指数和标准普尔500指数的<br>价差关系。在这个关系里，当价值线指数在价差里是坚挺的，也就是说这个价值线指数比标准普尔500指数坚挺，好的牛市开始发展。一旦到达最顶端，市场就会下跌!<br>随着价差发展，你获得一个购买信号，当价差崩溃，你就得到一个出售信号。在产生道琼斯工业平均指数1983年最高价的反弹之前，这个价差情况好转，给出了一个美妙的买入信号。它不止是个时机指数，而且还会告诉你，在短期基础上市场的坚挺和疲软。它会告诉你其他时机信号是好还是坏。这个可以帮你过滤出技术信号。我研究过价值线指数和国债等其他的价差组合关系。所有这些关系中，这个是能提供最好信息的。<br>还有另一个有趣的价差关系是价值线指数现货对标准普尔500指数现货。如果你愿意，与我共同回顾一下1982年，在那些萧条寒冷的冬日里，人们猜测美国经济将会分崩离析，我们在股市上没有任何投资活动，价值线指数对标准普尔500指数的溢价非常低。之后我们有了一个大牛市，溢价就随之涨得非常高。太多太多的投资机会，看看究竟发生了什么。你想要的是一个价值线指数带动的反弹，而不是标准普尔500指数带动的。这就是关于它的所有总结。</p>
<p>威廉姆斯日内交易系统</p>
<p>进行市场日内交易的方法多得如同日内交易者的数量一样。<br>1987年，我在罗宾交易公司的“世界杯交易锦标赛”开始了一个我自认为传奇的历程，我在这项世界冠军级的比赛里开了一个10000的账户，并在1987年4月中旬将这10000美元经营到650000美元。完成这项壮举，我使用了一些不同的技巧，但是这个账户里大部分交易都是日内交易。我会向你展示我在所用到的另一个日内交易的通用方法。<br>我所有日内交易系统的成功都是基于两种现象的其中一个。第一个就是形态认知，就像你在这一章已经读过的，形态认知也包括开盘关系。<br>就像你在这一章中读到的，开盘价的关系对日内交易非常重要。通常<br>它有利于减弱开盘。也就是说，如果市场高开，他们可能会在这一天卖出，如果低开，可能在这一天会反弹。虽然这并不总是正确，但的确是一个日内交易者可使用的绝佳操作规则。我认为大部分缺口都是公众造成的，而公众总是做错事情。在场内的人和专业交易者总是利用这个大部分建立在日内交易基础上的机会。<br>作为这种缺口现象的一个例子，你应该看看当价格开盘高于三日最高价移动平均线，或者价格开盘低于三日最高价移动平均线时发生了什么。通常这种类型的活动表明，市场上有过多坚挺或者疲软，并且大部分情况下，反转即将发生。我建议你研究一下这些缺口，来设置自己的交易策略，就像我一样。这是一个非常有价值的研究。<br>我在日内交易上采用的第二种方法就是一个建立在势头概念上的方法。简单来说， “一旦一个市场开始向一个方向活动，那么它将会持续向那个方向活动，直到它取得了与相反方向上相同的活动。<br>我知道这个听起来很初级，但这就是我日内交易成功的所有秘密!<br>一旦市场表现出将向一个方向活动一定量的基点，我就买入它，持有头寸，直到价格反转或交易日结束。这个方法就是，一旦市场开始活动，你在一个大幅度拉升或下跌的交易日介人，那么它在最高点（如果向上发展）或最低点（如果向下发展）收盘的可能性就增大了。<br>因此，我们知道大部分时间，在一个大幅度拉升或下跌的交易日（也就是日内交易者真正大赚一笔的日子），最好直到收盘前都持有头寸。大部分日内交易者在市场里进进出出，试图在这或者那赚到50或者100基点。我认为这是完全错误的，也是大部分日内交易者亏损的原因。我用的方法就是买入头寸，然后持有，经历低谷和高潮，一直等待到收盘，在收盘时退出。我不能在一天中最高价买入或卖出，你也不能。我非常怀疑有人可以连续这么做。所以在我的交易账户里显示的是，最好的方法就是仅仅持有你的日内交易头寸，满怀希望，甚至是祈祷着直到收盘，因为这些大拉升或下跌交易日的某一天是有巨大回报的。<br>就在写这一部分之前，我在连续两个这样的日内交易中挣到超过<br>1000000元。所以我可以把旧书名“我去年是如何交易挣到1000000元的”改成“我上周是如何通过日内交易挣到1000000元的”。能有这样的结果，就是因为“坚持持有直到收盘”的理念。你可能经常希望自己没有持有到收盘。但在大部分情况下，持有头寸直到市场收盘，会挣到最大利润（除非你知道如何在当天的确定最高价和最低价卖出或买入）。如果你做到了，打电话给我，我付电话费!<br>当然，你需要止损，来确定你不会被一场交易完全击败。在过去，我会在标准普尔500指数上用到大约200个基点，尽管我现在背弃了那种方法，因为标准普尔500指数在更高的水平上进行交易。你计算你的止损。然而，我要向你展示的系统可以不在任何情况下用到止损。<br>我要教给你的系统，就像下面计算机打印出的资料显示的一样，从标准普尔500指数交易直到1987年1月，挣到69700美元。520笔交易中有55.8%是成功的。最大的亏损是5000美元，如果你在最差的时间进入，那你可能在权益上挣得新高之前要先亏损一些了。注意我们不在这个系统里用到止损，但你可以选择使用。如果这样我可能会将他们设定在标准普尔500指数中至少200到300基点。但再说一次，这些结果在市场中没有任何止损。你可以看出，即使你的止损基本上是在收盘时出现，但是你在任何点上都没有被束缚。这个风险/收益率为1.55，意味着每损失1美元，可以挣到1.55美元。我的几个日内交易系统比这些结果要好，但这的确是一个不错的日内交易系统。结果比这差的系统都卖上好几千美元了!<br>这个方法如何运作一-方法很简单，这就是所有你要做的：在标准普尔500指数的每一天收盘时，将当天的收盘价乘以0.005。举个例子，1987年4月21日，标准普尔500指数收盘价为295.00，如果把这个收盘价乘以0.0105，得到的结果是3.0975，近似于3.10<br>接下来，我会在295.00收盘价上加上3.10，得出298. 10，在25.00中减去3.10得出291.90，之后我就在较高数值时买入，在较低数值时卖出，在收盘时退出。你可能想扭转一种情况让市场达到一个价格，然后反弹到另一个价格。如果你想这么做，那也不错。<br>为了让你对这个系统如何运作有所感觉，跟随我向你展示的系统概要进行易，所有信号都出现在1985年12月，直到1987年2月。你可以看出，在这段时间里，这个系统进行了132笔交易，并且以58%的正确率获得25775美元的净利润。<br>问：这在国债交易上也有用吗？<br>答：基本方法在国债市场也可以使用，但你需要一个不同的百分比数字。<br>问：那么价值线指数呢？<br>答：也同样。你可以把它用在价值线指数上，尽管你会得出自己的百分比数值。但是答案很确定。它能通过交易价值线指数挣到钱。<br>货币供给扮演预测者的角色<br>（注解： 1987-1988年间，货币供给对国债市场的影响并不如现在巨大。）<br>货币供给是个有趣的现象。货币供给是什么时候开始呢？从周四开始。那么你认为货币供给影响了国债市场的哪一天呢？如果影响了周四，那么肯定会影响到周三，进而又会影响到周二。接下来，我会告诉你们货币供给是如何影响国债市场的。<br>我敢断定这一结论的正确性，但却无法证明它。而接下来会发生：某些地方的某些人将会在周三了解到国债市场货币供给的一些基本消息。周三那些人开始得到一些关于国债市场货币供给的消息，他们期望国债市场收盘的走向同货币供给的走向一致。<br>周四，更多的人会了解货币供给的走向，国债市场走向同周三走向一致。<br>实际上，今年短期国债市场80%的时间里，如果周三收盘走高，那么周四的收盘同样也会走高。如果周三收盘走低，周四也会走低。在我的印象里，长期国债市场大约70%的时间里是这样的。<br>无论发生什么，周四总是在重复周三发生过的事情。<br>如果周三长期国债/短期国债市场走高，周四也会走高;如果周三走低，周四也会走低。看看你们手上的图表，你们就能明白我现在所说的。本周对短期国债的预测准确无误。短期国债和长期国债具有一致性，但并不是说长期国债就不好。<br>问：货币供给对长期国债和短期国债的作用是一样的吗？<br>答：是一样的。货币供给可以帮助债券交易者进行交易。例如，你想要在一周的某一天日内交易长期国债或短期国债，你就可以选中货币供给状况最好的一天进行交易。这天就是周四。这实在是太美妙了。记住，我们现在所看到的周三长期或短期债券的现状，周四延续这一趋势有75%的可能性。<br>问：货币供给通常都是周三/周四的关系吗？<br>答：不是的。我们只有在周四开始得到货币供给量数据的时候才能确定是不是这一关系。过去，得到这一数据都要等到周五。同样的事情过去也发生在周四和周五。<br>回想起来，我一直重复着上涨上涨下跌的格局。你们是如何看待国债价格上涨的一天呢？其实50%到60%的时间里，上涨的第二天价格往往都是下跌的。这一关系叫做偏差，也是客观存在的。再次看看你们手上的图表，你们就会发现这一系统的有效性。问：股票价格指数也是这一关系吗？<br>答：不是的。我一直都没能注意到基于长期国债各指数之间的相互关系。大家都认为国债价格走高，那么股票市场行情也会看涨。然而实际上并非如此，很多时候，长期国债价格下跌，股票市场行情仍然看涨。<br>如果周三收盘走高，我就会期望周四的收盘可以更高。你们可以试着用日内交易系统，有三种日内交易系统可以使用： （1）开盘时买入，开盘时售出。（2） 0.0105方法，该方法是有选择性的，交易量增大，但交易频率降低了。（3）购买短期国债方法。<br>你们知道我在猜想什么？我猜想我给你们的所有日内交易系统-这<br>些系统都能盈利，而且过去也一直在盈利。但是我敢打赌，如果你们没有学会我今天传授的，你们就不会在任何一个日内交易系统中盈利。<br>首先，你们要了解，如果你们遭受了巨大损失，那并不是系统造成的。并不是因为你们参照了我的系统、你们的系统或其他任何人的系统，你才会遭受损失。蒙受巨大损失是人为错误造成的。你让你的经纪人“买进”债券，其实你的真实目的是“抛出”债券，你确实犯了这种错误!你在计算数字的时候处于亢奋状态，犯了数学错误，得出了一个错误的计算结果，这就是你犯的最大错误。也许你会说： “哦，我不打算跟着系统指示走了，我已经连续亏损三次了。”这其实将是你犯的最大错误。我们通常被债券市场里的这种情绪扰动。我们的最大错误是人为错误，而不是系统错误，我这么说的依据就是我自己的丰富经验。<br>两周之前，我高兴极了，就像浮在云端一样。我买进的2000美元国债涨到38000美元。我们开始使用一种新的白银交易系统，这一系统也是我为日内交易设计的。过去三年，签订合同的每日交易额能达到450000美元，我觉得已经掌握了这个白银日内交易系统。我开始交易白银，但赔钱了。我赔钱并不是因为这一系统的问题，而是因为我们做了很多蠢事。我们决定隔夜持仓，但这并不包括在系统里。随后我们应该抛出所持债券的50%，但我们没有，还是持仓，收盘时我们的顺序就弄错了。我们当天结束的时候不是净多五，而是净多十，这一消息令我们不安。早上开盘的时候我们也没有抛出我们的债券。我们期待并向上帝祈祷，那天晚上我们还去了教堂，希望开盘价格能够高点。当然，我们的期望落空了。我们不知道究竟要做什么，我们犯的错误是人为的，并不是系统的问题。你必须遵循系统。<br>这里有人看过“星球大战”吗？对于那些没看过的，还有那些看过的，请你们耐心听我解释，星球大战其实就是一个谎言-个一直存在于我们社会中的谎言。星球大战的谎言是：太空行者路克乘坐他的飞机，他要摧毁在外太空的小行星。其他飞行员和战斗机飞行员的飞机都在他的前面，他们看着电脑显示屏，电脑发出指令： “射击!”砰!没打中!不但<br>没打中，其他飞机也追上来了，并朝他们的飞机射击。看见那些家伙的血溅得满屏幕都是，实在令人痛心疾首。<br>但是，路克敏捷地躲开了。他看着他的电脑屏幕（你可以把它想象成是市场交易系统），并且听到了神的声音： “愿神与你同在。把系统抛到一边!不要想着弥补损失!路克，你是所有美国人的英雄，你不需要这个东西。只要你感觉它是对的，就去做吧。”然后，路克停顿一会儿说： “现在射击!”砰!小行星爆炸了，路克回到家乡，成为英雄!公主亲吻了他，谁知道他们还做了其他什么事。<br>我们在电影里和在我们的社会中明白了一个道理，跟着感觉走，抛开生活中的系统体系吧。<br>但是，我要告诉你们，如果想要在股票交易中赚钱，你就必须要跟着系统走，你成不了太空行者路克那样的人。坚持你的系统，不是你的枪!</p>
<p>过量交易</p>
<p>坚持盈利系统的一个方法就是不要过量交易。过量交易已经违背了你的系统体系，我看见有一些人在点头。你们也许会说， “我会成为杰西.利弗莫尔、拉瑞·威廉姆斯之类的交易高手”。你买进500手猪腩，猪腩波动了2个点，你说： “哦!天啊!我要抛出!我承受不住这个压力了!”就这样，你交易了一份糟透了的合约，不要太贪婪了。如果只交易-份合约，你就不会有这么大的压力，在日内交易中更是如此。如果你采用了标准普尔500指数的方法进行日内交易，那么即使是你最倒霉的一天，你的最大亏损额也不会超过1000美元。你们中的大部分人都可以承受1000美元的损失，如果承受不了，那你们就不应该参与商品期货交易。<br>但是，如果你一次性交易10份或15份合约，你一天就可能会亏损1万美元甚至更多。这时候，游戏就完全不同了，因为你的情感和压力，你不可能再跟着系统走。股票市场没有给你施加任何压力，是你自己过分高估了你在市场里的位置，给自己施加压力。<br>在生活中（最起码在市场里），最大的刺激就是赚钱。第二大的刺激是赔钱。你心跳得很快，但是不要陷入市场的刺激里。（这是一项心理问题，我们能不能得到回报就要看是赢还是输。）<br>不管你们是要发展你们自己的日内交易系统，还是要完善我的系统，你们都应该知道，我的日内交易系统之所以会成功，是因为在不断的停牌和收益中积累了经验。大部分的日内交易系统很少会有停牌和收益。你们想一想我刚刚介绍给你们的日内交易系统一0.0105方法确实是一项很好的资金管理技术。0.0105方法其实没有什么神秘感，但是如果按照0.0105的方法走，我可以总是把我的亏损控制在1000美元以内。说不一定哪天我就发财了，我持有的合约涨了200、300或400点。这就是0.0105方法的本质。<br>大部分其他的日内交易系统都会有一点点微小的停牌，他们将自动选择一个50点的利润，但是一般都不能成功。这时候我们必须要停止电脑上的数字，并找出最适宜的停牌时机。这很有趣…大部分市场的停牌点为500美元（标准普尔500指数和价值线指数除外），国债、猪腩、白银…..如果你进行日内交易，虽然受到500美元停牌的限制，但客观上讲，收益是无限量的。这些天白银市场上涨有限，在收盘前只要跟进就行。另外这些天标准普尔500指数上涨了3、4、5个百分点，收盘之前只需跟进。如果你较早抛出，有时候可能会得到较高的报价。但长期来说，最好还是让市场跟着你的位置走，在快收盘之前将合约抛出，这样能够得到最大的收益。<br>日内交易的秘密是大幅停摆以及大的目标，而不是小幅停摆。奇怪的是，每个人都觉得停摆应该是小幅的，这一思路真的正确吗？你是怎么钓鱼的？当你钓到一条大鱼，你是把鱼竿卷起来，然后把鱼拉上来吗？肯定不是。你会用一条长线，然后慢慢和它玩。在日内交易市场上，你也需要这么做，你需要给市场留一些空间。如果它开始走向同你的预期不一致，不用担心，你可以停摆。在市场再次活跃起来之前，给市场一些波动和摇摆的空间。<br>最后一点就是策略。前面我们已经讨论到了资金管理。那么策略是怎样的呢？从标准普尔500指数到价值线指数，反过来再从价值线指数到标准普尔500指数，你的策略可能会摇摆不定。你们去过游乐场吗？今年秋天可以去游乐场，那里有个小游戏叫做打地鼠。地鼠把头从那些圆圆的洞里冒出来，然后孩子们用一个大锤子把它们敲下去。你们在游乐场见过这个游戏吗？所有的孩子都很喜欢这个游戏。地鼠冒出来，然后嘭，砸它们!如果你比你旁边的孩子砸中的地鼠多，你就可以赢回一个气球。付出35美分，就能赢回一个1美分的气球。<br>但这也正是你们在市场里应该考虑的。如果标准普尔500指数市场比价值线指数市场低迷，嘭!是时候卖出你们手上的股票了。如果有潜在的卖出信号，并且还是高点收盘，这时候整个市场行情至少都在看涨，这就是给你们发出的卖出信号。<br>如果标准普尔500指数和价值线指数都降低，看看那些小地鼠至少都在下跌，这就是买入信号。嘭!直接买入吧。通常买入的都是价值线指数，顺带一提的是，通常并不等于总是。所以我们应该选择买人标准普尔500指数与价值线指数二者中较低迷的一方。因为在二者中你必须抛出一个，那就把低迷的那个抛掉吧。随后你就可以选择势头较强劲的一方作为买入信号。<br>你并一定非要交易标准普尔500指数，你可以选择其他市场交易。你可以选择短期国债，不是吗？选择短期国债或者长期国债。看看它们的紧密联系，就像一个家庭。一直买入强势品种是很难做到的。你想买入弱势品种，但这样是错误的。买进强势品种，卖出弱势品种，这才是正确的策略。<br>另外一点是，不要总想着一旦长期国债市场看涨，标准普尔500指数也会看涨，实际并非如此。他们过去是，现在是，将来也会是两个彼此独立波动的市场。<br>破除更多的神话</p>
<p>有很多并不正确的市场神话。其中之一我想向短期交易者阐明的是价格变化与成交量的关系。大部分作者都提出了一个思想，他们认为成交量上涨，股价也上涨，就是牛市;成交量上涨，股价却下跌，就是熊市。我们为此做了一项小调查，而调查结果显示在电脑打印的纸上：<br>表1显示的是，当天成交量比前一天要高，收盘价也比前一天高，而你在第二天开盘买入之后发生的事。换句话说，成交量上涨，价格也上涨。<br>但有趣的是，在标准普尔500指数系统下，只有47%的时间成交量上涨，价格也上涨。如果你开盘买进，基本上就确定了当天你要赔钱。这就说明，高成交量和高价格并不一定像很多人说的那样一定是牛市。<br>第二天再看看，如果成交量比前一天低，价格却比前一天高，会发生什么。这一情况在很多标准参考书里，都很明确地认为是熊市。实际上，这在标准普尔500指数系统里也不成立，成交量低，开盘价高，收盘价却有48%的时间在上涨。就像表2描述的，如果你第二天开盘买入，收盘时你就会有6400美元的收益。<br>第三个显示的关系也很有趣。作为交易者，我们可以利用这一关系。我们再看看成交量比前一天高，价格却降低了，会发生什么。换句话说，相比较前一天，第二天的高成交量是在市场低迷的情况下实现的。在标准普尔500指数系统里，我们收盘价在58%的时间里都比前一天高。如果你在当天开盘的时候买入，就像表3描述的，你会得到43875美元的收益。这是数据……这里的数字很重要，交易者需要注意到那天市场发生了什么，然后得出价格和成交量之间的关系：如果当天价格下跌，成交量上涨，那就期待着第二天咸鱼翻身吧。<br>最后一个关系是，看看如果当天价格下跌，成交量也下跌会发生什么。在那种情况下，如果你第二天开盘买入， 52%的时间里收盘会获利。就像表格4显示的，可能会获利2225美元。<br>但是我不会仅仅依靠这些关系就进行股市交易，我希望我能消除掉你们一些关于成交量和价格关系的传统思想。我也给你们分析了具有更高可能性获益的关系：低成交量与低价格。<br>市场逻辑学家诺姆·弗斯巴克也做了一些有趣的实验。这些实验主要指向对第二天市场走向有影响的因素。弗斯巴克的研究利用了波动指数，方法就是所有的股票交易高于最低变动价位，与上次买卖中所有股票交易低于最低变动价位相对。通过这一方法来预测第二天的市场活动。<br>有很多人不知道波动指数是指什么。我解释一下，如果你上一次交易中有500股股价高于最低变动价位，有400股股价低于最低变动价位，那就说明你的波动指数成正值+100。<br>波动指数对很多报价设备都有帮助。<br>根据弗斯巴克的研究，波动指数对第二天市场走向的预测性最强，能够预测到第二天价格是上涨还是下跌。<br>弗斯巴克说： “在当天股市快收盘的时候，如果纽约证券交易所波动指数的末次读数为正数，那第二天股市有74%的可能性会看涨。”<br>而对于第二天股市下跌的预测，弗斯巴克的研究认为，如果交易指数（上涨股票与下跌股票的比例对上涨成交量与下跌成交量的比例）超过1.0，那么第二天股市有64%的可能性呈下跌趋势。<br>弗斯巴克给出了一份对股市走向预测的有趣报告。你们或许可以写信给他，这是地址： The Institute for Econometric Research， 3471 North FederalHighway， Fort Lauderdale， FL33306，<br>最后，你们可能想学习一下模式图表，这一图表展示了在标准普尔500指数交易和收盘都比昨天可比数字高的时候会发生的情况。注意在59%的时间里开盘价较高，但是37%的时间里第二天的开盘价比前一天要高。幸运的是，几乎60%的时间里前一天的收盘价比后一天的开盘价要低。在这里看，日内交易是一种卖出模式，还有其他卖出模式，把它们找出来。<br>日内交易摆动指标</p>
<p>几年前，在一个研讨会上我提出了下面的日内交易摆动指标。这次，我希望再次将它与你们分享。<br>摆动指标很容易构造，尤其是你如果有商品报价图形或者其他报价机器。我用了五张详细的条形图来展示他们的不同：最后两张图表的平均数和最后10张图表的平均数，都是在结算基础上统计出来的。这一特殊的摆动指标是由最后五张图表的平均数构成的，高价加上低价再加上收盘价除以3;与最后20张图表平均数相比，高价加上低价加上收盘价除以3。这些摆动指标都旨在给出良好的市场信号，但是充分利用摆动指标的最佳时机是在交易的第1个小时里。<br>下面，我将向你们展示怎么运用摆动指标。如果股价很难上涨，那我可以等摆动指标，股价开始下跌，这时候我就可以抛出股票。<br>同样的道理，如果股价跌不了，那就等短期的摆动指标，就是图表上的黑色线部分，进而转换成长期的摆动指标，等股票价格上涨。这就给我们一个买进信号。一旦你进入股市，你可以按着你的意愿持仓。但是，我也可以明确地使用摆动指标的相反转折点，给你指出抛出点，这个抛出点<br>有时候只是一个很短暂的卖出信号，但不总是很短暂（反之买入也一样）。接下来，我会向你们展示很多不同的图表，回顾市场这些年的情况，以证明摆动指标方法的易变性。交易很简单，而且相当机械化。你所要做的就是简单地构造一个摆动指标，然后就一直等到股价开始上涨的转折点出现。如果出现了下跌趋势，那就买进。<br>同样的道理，重申卖出信号的规则，首先你需要有个股价上涨的缺口，然后等到短期摆动指标转换成长期摆动指标。如果这些都发生了，先做空，然后等到股票下跌的时候再买进。<br>我相信这一系统会生效的原因是，我们是在调查了两个不同时期的市场后才绘制图表。当在非常快速的时期内，市场显示出看涨势头，通过摆动指标我们知道，市场已经开始复苏了。同样的道理，当短期摆动指标到达峰值，我们就知道市场其实呈现的是相反的一面，失去了强劲势头，接下来又会回到低迷期。<br>注意看1987年3月27号国债市场图表，卖出信号显示为97.24，抓住上涨缺口，摆动点为97.16，虽然看上去不多，但是8个波动点，一份合约就能收益259美元。<br>一般情况下，我不会使用摆动指标，除非在交易的第1个小时里或者其他特殊的时间段。我在寻求填上缺口的办法，这个缺口就是摆动指标显示的进一步买入或卖出的信号。</p>
<p>“每天开盘跳空”的事实</p>
<p>基本每天早上，前一天的收盘价跟当天的开盘价都存在跳空现象。有可能是跳空而上，也有可能是跳空而下。当天市场的开盘价与前一天的收盘价完全一致，几乎是不可能的。<br>关于跳空还有一些有趣的数据。如果昨天收盘价高，但今天开盘价更高，那么60%的时间里，今天的收盘价肯定要比昨天的收盘价高。如果我们开盘价格比前一天收盘价低，那么70%的时间里，今天的收盘价比昨天的收盘价要低。反之也是如此。</p>

      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/期货交易准则/" rel="tag"># 期货交易准则</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2021/04/13/第九章-资金管理——本书最重要的章节/" rel="next" title="第九章 资金管理——本书最重要的章节">
                <i class="fa fa-chevron-left"></i> 第九章 资金管理——本书最重要的章节
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2021/04/15/第二章-终极指标/" rel="prev" title="第二章 终极指标">
                第二章 终极指标 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="CheBin">
            
              <p class="site-author-name" itemprop="name">CheBin</p>
              <div class="site-description motion-element" itemprop="description">放弃会成为一种习惯</div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">276</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">12</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">33</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          

          

          
          


          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <!-- modify icon to fire by szw -->
                <i class="fa fa-history fa-" aria-hidden="true"></i>
                近期文章
              </div>
              <ul class="links-of-blogroll-list">
                
                
                  <li>
                    <a href="/2021/04/19/第七章-整理技术图形/" title="第七章 整理技术图形" target="_blank">第七章 整理技术图形</a>
                  </li>
                
                  <li>
                    <a href="/2021/04/19/第六章-转势技术图形/" title="第六章 转势技术图形" target="_blank">第六章 转势技术图形</a>
                  </li>
                
                  <li>
                    <a href="/2021/04/19/第五章-技术图形/" title="第五章 技术图形" target="_blank">第五章 技术图形</a>
                  </li>
                
                  <li>
                    <a href="/2021/04/19/第四章-表见顶和下跌的K线形态/" title="第四章 表见顶和下跌的K线形态" target="_blank">第四章 表见顶和下跌的K线形态</a>
                  </li>
                
                  <li>
                    <a href="/2021/04/19/第三章-表见底和上升的K线形态/" title="第三章 表见底和上升的K线形态" target="_blank">第三章 表见底和上升的K线形态</a>
                  </li>
                
              </ul>
            </div>
        

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2018 – <span itemprop="copyrightYear">2021</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">CheBin</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">站点总字数：</span>
    
    <span title="站点总字数">2.4m</span>
  

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    
    <span title="站点阅读时长">36:48</span>
  
</div>


  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a></div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=7.0.1"></script>

  <script src="/js/src/motion.js?v=7.0.1"></script>



  
  


  <script src="/js/src/affix.js?v=7.0.1"></script>

  <script src="/js/src/schemes/pisces.js?v=7.0.1"></script>



  
  <script src="/js/src/scrollspy.js?v=7.0.1"></script>
<script src="/js/src/post-details.js?v=7.0.1"></script>



  


  <script src="/js/src/next-boot.js?v=7.0.1"></script>


  

  

  

  


  


  
  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  
  

  
  

  


  

  

  

  

  

  

  

  

  
<script>
  $('.highlight').each(function(i, e) {
    var $wrap = $('<div>').addClass('highlight-wrap');
    $(e).after($wrap);
    $wrap.append($('<button>').addClass('copy-btn').append('复制').on('click', function(e) {
      var code = $(this).parent().find('.code').find('.line').map(function(i, e) {
        return $(e).text();
      }).toArray().join('\n');
      var ta = document.createElement('textarea');
      var yPosition = window.pageYOffset || document.documentElement.scrollTop;
      ta.style.top = yPosition + 'px'; // Prevent page scroll
      ta.style.position = 'absolute';
      ta.style.opacity = '0';
      ta.readOnly = true;
      ta.value = code;
      document.body.appendChild(ta);
      ta.select();
      ta.setSelectionRange(0, code.length);
      ta.readOnly = false;
      var result = document.execCommand('copy');
      
        if (result) $(this).text('复制成功');
        else $(this).text('复制失败');
      
      ta.blur(); // For iOS
      $(this).blur();
    })).on('mouseleave', function(e) {
      var $b = $(this).find('.copy-btn');
      setTimeout(function() {
        $b.text('复制');
      }, 300);
    }).append(e);
  })
</script>


  

  

</body>
</html>
